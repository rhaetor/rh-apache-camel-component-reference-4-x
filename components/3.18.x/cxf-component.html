<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CXF :: Red Hat Integration</title>
    <meta name="description" content="Expose SOAP WebServices using Apache CXF or connect to external WebServices using CXF WS client.">
    <meta name="generator" content="Antora 3.1.4">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">Red Hat Integration</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="components" data-version="3.18.x">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Camel Components</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Components</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="amqp-component.html">AMQP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="aws-summary.html">AWS</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="aws2-ddb-component.html">AWS DynamoDB</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="aws2-kinesis-component.html">AWS Kinesis</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="aws2-lambda-component.html">AWS Lambda</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="aws2-s3-component.html">AWS S3 Storage Service</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="aws2-sns-component.html">AWS Simple Notification System (SNS)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="aws2-sqs-component.html">AWS Simple Queue Service (SQS)</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="azure-summary.html">Azure</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="azure-storage-blob-component.html">Azure Storage Blob Service</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="azure-storage-queue-component.html">Azure Storage Queue Service</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bean-component.html">Bean</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bean-validator-component.html">Bean Validator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="browse-component.html">Browse</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cql-component.html">Cassandra CQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="controlbus-component.html">Control Bus</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cron-component.html">Cron</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="cxf-component.html">CXF</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dataset-component.html">Dataset</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="direct-component.html">Direct</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="fhir-component.html">FHIR</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="file-component.html">File</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ftp-component.html">FTP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="google-summary.html">Google</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="google-bigquery-component.html">Google BigQuery</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="google-bigquery-sql-component.html">Google BigQuery Standard SQL</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="google-pubsub-component.html">Google Pubsub</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="http-component.html">HTTP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="infinispan-component.html">Infinispan</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="jdbc-component.html">JDBC</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="jira-component.html">Jira</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="jms-component.html">JMS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="jpa-component.html">JPA</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="jslt-component.html">JSLT</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="jta.html">JTA</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="kafka-component.html">Kafka</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="kamelet-component.html">Kamelet</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="log-component.html">Log</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mail-component.html">Mail</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="master-component.html">Master</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="microprofile-fault-tolerance.html">Microprofile Fault Tolerance</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="microprofile-health.html">Microprofile Health</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="microprofile-metrics-component.html">MicroProfile Metrics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mllp-component.html">MLLP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mock-component.html">Mock</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mongodb-component.html">MongoDB</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="netty-component.html">Netty</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="openapi-java.html">Openapi Java</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="paho-component.html">Paho</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="paho-mqtt5-component.html">Paho MQTT 5</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="platform-http-component.html">Platform HTTP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="properties-component.html">Properties</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="quartz-component.html">Quartz</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ref-component.html">Ref</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="rest-component.html">REST</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="rest-openapi-component.html">REST OpenApi</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="salesforce-component.html">Salesforce</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="scheduler-component.html">Scheduler</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="seda-component.html">SEDA</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="slack-component.html">Slack</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="snmp-component.html">SNMP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="sql-component.html">SQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="telegram-component.html">Telegram</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="timer-component.html">Timer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="validator-component.html">Validator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="velocity-component.html">Velocity</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="vertx-http-component.html">Vert.x HTTP Client</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="xquery-component.html">XQuery</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="xslt-component.html">XSLT</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="dataformats/index.html">Data Formats</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dataformats/avro-dataformat.html">Avro</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dataformats/bindy-dataformat.html">Bindy</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dataformats/fhirJson-dataformat.html">FHIR JSon</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dataformats/fhirXml-dataformat.html">FHIR XML</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dataformats/jacksonXml-dataformat.html">Jackson XML</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dataformats/jaxb-dataformat.html">JAXB</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dataformats/protobufJackson-dataformat.html">Protobuf Jackson</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dataformats/soap-dataformat.html">SOAP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dataformats/zipFile-dataformat.html">Zip File</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="languages/index.html">Languages</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="languages/bean-language.html">Bean Method</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="languages/constant-language.html">Constant</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="languages/exchangeProperty-language.html">ExchangeProperty</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="languages/file-language.html">File</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="languages/header-language.html">Header</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="languages/hl7terser-language.html">HL7 Terser</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="languages/jsonpath-language.html">JSONPath</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="languages/ref-language.html">Ref</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="languages/simple-language.html">Simple</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="languages/tokenize-language.html">Tokenize</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="languages/xtokenize-language.html">XML Tokenize</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="languages/xpath-language.html">XPath</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="languages/xquery-language.html">XQuery</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="others/index.html">Miscellaneous Components</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="others/attachments.html">Attachments</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="others/dsl.html">DSL</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="others/java-xml-io-dsl.html">XML Io Dsl</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="others/yaml-dsl.html">YAML DSL</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="others/jta.html">JTA</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="others/main.html">Main</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="others/microprofile-health.html">Microprofile Health</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="others/openapi-java.html">Openapi Java</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="others/opentelemetry.html">OpenTelemetry</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="eips/enterprise-integration-patterns.html">Enterprise Integration Patterns</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/aggregate-eip.html">Aggregate</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/bean-eip.html">Bean</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/change-data-capture.html">Change Data Capture</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/channel-adapter.html">Channel Adapter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/choice-eip.html">Content Based Router</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/circuitBreaker-eip.html">Circuit Breaker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/claimCheck-eip.html">Claim Check</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/competing-consumers.html">Competing Consumers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/composed-message-processor.html">Composed Message Processor</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/content-enricher.html">Content Enricher</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/content-filter-eip.html">Content Filter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/convertBodyTo-eip.html">Convert Body To</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/correlation-identifier.html">Correlation Identifier</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/dead-letter-channel.html">Dead Letter Channel</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/delay-eip.html">Delay</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/durable-subscriber.html">Durable Subscriber</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/dynamicRouter-eip.html">Dynamic Router</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/enrich-eip.html">Enrich</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/eventDrivenConsumer-eip.html">Event Driven Consumer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/event-message.html">Event Message</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/filter-eip.html">Filter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/from-eip.html">From</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/guaranteed-delivery.html">Guaranteed Delivery</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/idempotentConsumer-eip.html">Idempotent Consumer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/inOnly-eip.html">In Only</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/inOut-eip.html">In Out</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/intercept.html">Intercept</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/kamelet-eip.html">Kamelet</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/loadBalance-eip.html">Load Balance</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/log-eip.html">Log</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/loop-eip.html">Loop</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/marshal-eip.html">Marshal</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/message.html">Message</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/message-broker.html">Message Broker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/message-bus.html">Message Bus</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/message-channel.html">Message Channel</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/message-dispatcher.html">Message Dispatcher</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/message-endpoint.html">Message Endpoint</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/message-expiration.html">Message Expiration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/message-history.html">Message History</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/message-router.html">Message Router</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/message-translator.html">Message Translator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/messaging-bridge.html">Messaging Bridge</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/messaging-gateway.html">Messaging Gateway</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/messaging-mapper.html">Messaging Mapper</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/multicast-eip.html">Multicast</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/normalizer.html">Normalizer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/pipeline-eip.html">Pipeline</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/point-to-point-channel.html">Point to Point Channel</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/pollEnrich-eip.html">Poll Enrich</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/polling-consumer.html">Polling Consumer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/process-eip.html">Process</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/process-manager.html">Process Manager</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/publish-subscribe-channel.html">Publish Subscribe Channel</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/recipientList-eip.html">Recipient List</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/removeHeader-eip.html">Remove Header</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/removeHeaders-eip.html">Remove Headers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/removeProperties-eip.html">Remove Properties</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/removeProperty-eip.html">Remove Property</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/requestReply-eip.html">Request Reply</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/resequence-eip.html">Resequence</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/resilience4j-eip.html">Resilience4j Circuit Breaker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/return-address.html">Return Address</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/rollback-eip.html">Rollback</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/routingSlip-eip.html">Routing Slip</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/saga-eip.html">Saga</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/sample-eip.html">Sample</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/scatter-gather.html">Scatter Gather</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/script-eip.html">Script</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/selective-consumer.html">Selective Consumer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/service-activator.html">Service Activator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/serviceCall-eip.html">Service Call</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/setBody-eip.html">Set Body</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/setHeader-eip.html">Set Header</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/setProperty-eip.html">Set Property</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/sort-eip.html">Sort</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/split-eip.html">Split</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/step-eip.html">Step</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/stop-eip.html">Stop</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/threads-eip.html">Threads</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/throttle-eip.html">Throttle</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/to-eip.html">To</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/toD-eip.html">To Dynamic</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/transactional-client.html">Transactional Client</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/transform-eip.html">Transform</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/unmarshal-eip.html">Unmarshal</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/validate-eip.html">Validate</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eips/wireTap-eip.html">Wire Tap</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Camel Components</span>
    <span class="version">3.18.x (LTS)</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="index.html">Camel Components</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">3.18.x (LTS)</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../manual/index.html">User manual</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../manual/index.html">default</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../manual/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Camel Components</a></li>
    <li><a href="index.html">Components</a></li>
    <li><a href="cxf-component.html">CXF</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///code/camel-jboss/rh-camel-jboss/docs/components/modules/ROOT/pages/cxf-component.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">CXF</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><strong>Since Camel 1.0</strong></p>
</div>
<div class="paragraph">
<p><strong>Both producer and consumer are supported</strong></p>
</div>
<div class="paragraph">
<p>The CXF component provides integration with <a href="http://cxf.apache.org">Apache CXF</a> for connecting to <a href="http://cxf.apache.org/docs/jax-ws.html">JAX-WS</a> services hosted in CXF.</p>
</div>
<div class="paragraph">
<p>Maven users must add the following dependency to their <code>pom.xml</code> for this component:</p>
</div>
<div class="listingblock">
<div class="title"><code>pom.xml</code>:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
    &lt;artifactId&gt;camel-cxf-soap&lt;/artifactId&gt;
    &lt;version&gt;x.x.x&lt;/version&gt;
    &lt;!-- use the same version as your Camel core version --&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_uri_format"><a class="anchor" href="#_uri_format"></a>URI format</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are two URI formats for this endpoint: <strong>cxfEndpoint</strong> and <strong>someAddress</strong>.</p>
</div>
<div class="sect2">
<h3 id="_cxfendpoint"><a class="anchor" href="#_cxfendpoint"></a><code>cxfEndpoint</code></h3>
<div class="listingblock">
<div class="content">
<pre>cxf:bean:cxfEndpoint[?options]</pre>
</div>
</div>
<div class="paragraph">
<p><strong>cxfEndpoint</strong> represents a bean ID that references a bean in the bean registry. With this URI format, most of the endpoint details are specified in the bean definition.</p>
</div>
</div>
<div class="sect2">
<h3 id="_someaddress"><a class="anchor" href="#_someaddress"></a><code>someAddress</code></h3>
<div class="listingblock">
<div class="content">
<pre>cxf://someAddress[?options]</pre>
</div>
</div>
<div class="paragraph">
<p><strong>someAddress</strong> specifies the CXF endpoint&#8217;s address. With this URI
format, most of the endpoint details are specified using options.</p>
</div>
</div>
<div class="sect2">
<h3 id="_uri_options"><a class="anchor" href="#_uri_options"></a>URI Options</h3>
<div class="paragraph">
<p>For either URI format, you can append options to the URI as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cxf:bean:cxfEndpoint?wsdlURL=wsdl/hello_world.wsdl&amp;dataFormat=PAYLOAD</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuring_options"><a class="anchor" href="#_configuring_options"></a>Configuring Options</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Camel components are configured on two separate levels:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>component level</p>
</li>
<li>
<p>endpoint level</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_configuring_component_options"><a class="anchor" href="#_configuring_component_options"></a>Configuring Component Options</h3>
<div class="paragraph">
<p>The component level is the highest level which holds general and common configurations that are inherited by the endpoints.
For example a component may have security settings, credentials for authentication, urls for network connection and so forth.</p>
</div>
<div class="paragraph">
<p>Some components only have a few options, and others may have many. Because
components typically have pre-configured defaults
that are commonly used, then you may often only need to configure a few options on a component; or none at all.</p>
</div>
<div class="paragraph">
<p>Configuring components can be done with the <a href="../../manual/component-dsl.html" class="xref page">Component DSL</a>,
in a configuration file (application.properties|yaml), or directly with Java code.</p>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_endpoint_options"><a class="anchor" href="#_configuring_endpoint_options"></a>Configuring Endpoint Options</h3>
<div class="paragraph">
<p>Where you find yourself configuring the most is on endpoints, as endpoints often have many options, which allows you to
configure what you need the endpoint to do. The options are also categorized into whether the endpoint is used as consumer (from)
or as a producer (to), or used for both.</p>
</div>
<div class="paragraph">
<p>Configuring endpoints is most often done directly in the endpoint URI as path and query parameters. You can also use
the <a href="../../manual/Endpoint-dsl.html" class="xref page">Endpoint DSL</a> as a <em>type safe</em> way of configuring endpoints.</p>
</div>
<div class="paragraph">
<p>A good practice when configuring options is to use <a href="../../manual/using-propertyplaceholder.html" class="xref page">Property Placeholders</a>,
which allows to not hardcode urls, port numbers, sensitive information, and other settings.
In other words placeholders allows to externalize the configuration from your code, and gives more flexibility and reuse.</p>
</div>
<div class="paragraph">
<p>The following two sections lists all the options, firstly for the component followed by the endpoint.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_component_options"><a class="anchor" href="#_component_options"></a>Component Options</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The CXF component supports 6 options, which are listed below.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 50%;">
<col style="width: 10%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-center valign-top">Default</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_component_option_bridgeErrorHandler"></a>
<a href="#_component_option_bridgeErrorHandler" class="anchor"></a><strong>bridgeErrorHandler</strong> (consumer)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allows for bridging the consumer to the Camel routing Error Handler, which mean any exceptions occurred while the consumer is trying to pickup incoming messages, or the likes, will now be processed as a message and handled by the routing Error Handler. By default the consumer will use the org.apache.camel.spi.ExceptionHandler to deal with exceptions, that will be logged at WARN or ERROR level and ignored.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_component_option_lazyStartProducer"></a>
<a href="#_component_option_lazyStartProducer" class="anchor"></a><strong>lazyStartProducer</strong> (producer)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Whether the producer should be started lazy (on the first message). By starting lazy you can use this to allow CamelContext and routes to startup in situations where a producer may otherwise fail during starting and cause the route to fail being started. By deferring this startup to be lazy then the startup failure can be handled during routing messages via Camel&#8217;s routing error handlers. Beware that when the first message is processed then creating and starting the producer may take a little time and prolong the total processing time of the processing.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_component_option_allowStreaming"></a>
<a href="#_component_option_allowStreaming" class="anchor"></a><strong>allowStreaming</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>This option controls whether the CXF component, when running in PAYLOAD mode, will DOM parse the incoming messages into DOM Elements or keep the payload as a javax.xml.transform.Source object that would allow streaming in some cases.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_component_option_autowiredEnabled"></a>
<a href="#_component_option_autowiredEnabled" class="anchor"></a><strong>autowiredEnabled</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Whether autowiring is enabled. This is used for automatic autowiring options (the option must be marked as autowired) by looking up in the registry to find if there is a single instance of matching type, which then gets configured on the component. This can be used for automatic configuring JDBC data sources, JMS connection factories, AWS Clients, etc.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_component_option_headerFilterStrategy"></a>
<a href="#_component_option_headerFilterStrategy" class="anchor"></a><strong>headerFilterStrategy</strong> (filter)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>To use a custom org.apache.camel.spi.HeaderFilterStrategy to filter header to and from Camel message.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HeaderFilterStrategy</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_component_option_useGlobalSslContextParameters"></a>
<a href="#_component_option_useGlobalSslContextParameters" class="anchor"></a><strong>useGlobalSslContextParameters</strong> (security)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Enable usage of global SSL context parameters.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_endpoint_options"><a class="anchor" href="#_endpoint_options"></a>Endpoint Options</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The CXF endpoint is configured using URI syntax:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cxf:beanId:address</pre>
</div>
</div>
<div class="paragraph">
<p>with the following path and query parameters:</p>
</div>
<div class="sect2">
<h3 id="_path_parameters_2_parameters"><a class="anchor" href="#_path_parameters_2_parameters"></a>Path Parameters (2 parameters)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 50%;">
<col style="width: 10%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-center valign-top">Default</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_path_option_beanId"></a>
<a href="#_endpoint_path_option_beanId" class="anchor"></a><strong>beanId</strong> (common)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>To lookup an existing configured CxfEndpoint. Must used bean: as prefix.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_path_option_address"></a>
<a href="#_endpoint_path_option_address" class="anchor"></a><strong>address</strong> (service)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The service publish address.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_query_parameters"><a class="anchor" href="#_query_parameters"></a>Query Parameters (36 parameters)</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 50%;">
<col style="width: 10%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-center valign-top">Default</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_dataFormat"></a>
<a href="#_endpoint_query_option_dataFormat" class="anchor"></a><strong>dataFormat</strong> (common)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The data type messages supported by the CXF endpoint.</p>
</div>
<div class="paragraph">
<p>Enum values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>PAYLOAD</p>
</li>
<li>
<p>RAW</p>
</li>
<li>
<p>MESSAGE</p>
</li>
<li>
<p>CXF_MESSAGE</p>
</li>
<li>
<p>POJO</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">POJO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DataFormat</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_wrappedStyle"></a>
<a href="#_endpoint_query_option_wrappedStyle" class="anchor"></a><strong>wrappedStyle</strong> (common)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The WSDL style that describes how parameters are represented in the SOAP body. If the value is false, CXF will chose the document-literal unwrapped style, If the value is true, CXF will chose the document-literal wrapped style.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_bridgeErrorHandler"></a>
<a href="#_endpoint_query_option_bridgeErrorHandler" class="anchor"></a><strong>bridgeErrorHandler</strong> (consumer (advanced))</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allows for bridging the consumer to the Camel routing Error Handler, which mean any exceptions occurred while the consumer is trying to pickup incoming messages, or the likes, will now be processed as a message and handled by the routing Error Handler. By default the consumer will use the org.apache.camel.spi.ExceptionHandler to deal with exceptions, that will be logged at WARN or ERROR level and ignored.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_exceptionHandler"></a>
<a href="#_endpoint_query_option_exceptionHandler" class="anchor"></a><strong>exceptionHandler</strong> (consumer (advanced))</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>To let the consumer use a custom ExceptionHandler. Notice if the option bridgeErrorHandler is enabled then this option is not in use. By default the consumer will deal with exceptions, that will be logged at WARN or ERROR level and ignored.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ExceptionHandler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_exchangePattern"></a>
<a href="#_endpoint_query_option_exchangePattern" class="anchor"></a><strong>exchangePattern</strong> (consumer (advanced))</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Sets the exchange pattern when the consumer creates an exchange.</p>
</div>
<div class="paragraph">
<p>Enum values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>InOnly</p>
</li>
<li>
<p>InOut</p>
</li>
<li>
<p>InOptionalOut</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ExchangePattern</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_cookieHandler"></a>
<a href="#_endpoint_query_option_cookieHandler" class="anchor"></a><strong>cookieHandler</strong> (producer)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Configure a cookie handler to maintain a HTTP session.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CookieHandler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_defaultOperationName"></a>
<a href="#_endpoint_query_option_defaultOperationName" class="anchor"></a><strong>defaultOperationName</strong> (producer)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>This option will set the default operationName that will be used by the CxfProducer which invokes the remote service.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_defaultOperationNamespace"></a>
<a href="#_endpoint_query_option_defaultOperationNamespace" class="anchor"></a><strong>defaultOperationNamespace</strong> (producer)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>This option will set the default operationNamespace that will be used by the CxfProducer which invokes the remote service.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_hostnameVerifier"></a>
<a href="#_endpoint_query_option_hostnameVerifier" class="anchor"></a><strong>hostnameVerifier</strong> (producer)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The hostname verifier to be used. Use the # notation to reference a HostnameVerifier from the registry.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HostnameVerifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_sslContextParameters"></a>
<a href="#_endpoint_query_option_sslContextParameters" class="anchor"></a><strong>sslContextParameters</strong> (producer)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The Camel SSL setting reference. Use the # notation to reference the SSL Context.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSLContextParameters</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_wrapped"></a>
<a href="#_endpoint_query_option_wrapped" class="anchor"></a><strong>wrapped</strong> (producer)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Which kind of operation that CXF endpoint producer will invoke.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_lazyStartProducer"></a>
<a href="#_endpoint_query_option_lazyStartProducer" class="anchor"></a><strong>lazyStartProducer</strong> (producer (advanced))</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Whether the producer should be started lazy (on the first message). By starting lazy you can use this to allow CamelContext and routes to startup in situations where a producer may otherwise fail during starting and cause the route to fail being started. By deferring this startup to be lazy then the startup failure can be handled during routing messages via Camel&#8217;s routing error handlers. Beware that when the first message is processed then creating and starting the producer may take a little time and prolong the total processing time of the processing.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_synchronous"></a>
<a href="#_endpoint_query_option_synchronous" class="anchor"></a><strong>synchronous</strong> (producer (advanced))</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Sets whether synchronous processing should be strictly used.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_allowStreaming"></a>
<a href="#_endpoint_query_option_allowStreaming" class="anchor"></a><strong>allowStreaming</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>This option controls whether the CXF component, when running in PAYLOAD mode, will DOM parse the incoming messages into DOM Elements or keep the payload as a javax.xml.transform.Source object that would allow streaming in some cases.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_bus"></a>
<a href="#_endpoint_query_option_bus" class="anchor"></a><strong>bus</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>To use a custom configured CXF Bus.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bus</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_continuationTimeout"></a>
<a href="#_endpoint_query_option_continuationTimeout" class="anchor"></a><strong>continuationTimeout</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>This option is used to set the CXF continuation timeout which could be used in CxfConsumer by default when the CXF server is using Jetty or Servlet transport.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">30000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_cxfBinding"></a>
<a href="#_endpoint_query_option_cxfBinding" class="anchor"></a><strong>cxfBinding</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>To use a custom CxfBinding to control the binding between Camel Message and CXF Message.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CxfBinding</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_cxfConfigurer"></a>
<a href="#_endpoint_query_option_cxfConfigurer" class="anchor"></a><strong>cxfConfigurer</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>This option could apply the implementation of org.apache.camel.component.cxf.CxfEndpointConfigurer which supports to configure the CXF endpoint in programmatic way. User can configure the CXF server and client by implementing configure{ServerClient} method of CxfEndpointConfigurer.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CxfConfigurer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_defaultBus"></a>
<a href="#_endpoint_query_option_defaultBus" class="anchor"></a><strong>defaultBus</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Will set the default bus when CXF endpoint create a bus by itself.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_headerFilterStrategy"></a>
<a href="#_endpoint_query_option_headerFilterStrategy" class="anchor"></a><strong>headerFilterStrategy</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>To use a custom HeaderFilterStrategy to filter header to and from Camel message.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HeaderFilterStrategy</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_mergeProtocolHeaders"></a>
<a href="#_endpoint_query_option_mergeProtocolHeaders" class="anchor"></a><strong>mergeProtocolHeaders</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Whether to merge protocol headers. If enabled then propagating headers between Camel and CXF becomes more consistent and similar. For more details see CAMEL-6393.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_mtomEnabled"></a>
<a href="#_endpoint_query_option_mtomEnabled" class="anchor"></a><strong>mtomEnabled</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>To enable MTOM (attachments). This requires to use POJO or PAYLOAD data format mode.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_properties"></a>
<a href="#_endpoint_query_option_properties" class="anchor"></a><strong>properties</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>To set additional CXF options using the key/value pairs from the Map. For example to turn on stacktraces in SOAP faults, properties.faultStackTraceEnabled=true.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_schemaValidationEnabled"></a>
<a href="#_endpoint_query_option_schemaValidationEnabled" class="anchor"></a><strong>schemaValidationEnabled</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Enable schema validation for request and response. Disabled by default for performance reason.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_skipPayloadMessagePartCheck"></a>
<a href="#_endpoint_query_option_skipPayloadMessagePartCheck" class="anchor"></a><strong>skipPayloadMessagePartCheck</strong> (advanced)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Sets whether SOAP message validation should be disabled.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_loggingFeatureEnabled"></a>
<a href="#_endpoint_query_option_loggingFeatureEnabled" class="anchor"></a><strong>loggingFeatureEnabled</strong> (logging)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>This option enables CXF Logging Feature which writes inbound and outbound SOAP messages to log.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_loggingSizeLimit"></a>
<a href="#_endpoint_query_option_loggingSizeLimit" class="anchor"></a><strong>loggingSizeLimit</strong> (logging)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>To limit the total size of number of bytes the logger will output when logging feature has been enabled and -1 for no limit.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">49152</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_skipFaultLogging"></a>
<a href="#_endpoint_query_option_skipFaultLogging" class="anchor"></a><strong>skipFaultLogging</strong> (logging)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>This option controls whether the PhaseInterceptorChain skips logging the Fault that it catches.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_password"></a>
<a href="#_endpoint_query_option_password" class="anchor"></a><strong>password</strong> (security)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>This option is used to set the basic authentication information of password for the CXF client.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_username"></a>
<a href="#_endpoint_query_option_username" class="anchor"></a><strong>username</strong> (security)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>This option is used to set the basic authentication information of username for the CXF client.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_bindingId"></a>
<a href="#_endpoint_query_option_bindingId" class="anchor"></a><strong>bindingId</strong> (service)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The bindingId for the service model to use.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_portName"></a>
<a href="#_endpoint_query_option_portName" class="anchor"></a><strong>portName</strong> (service)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The endpoint name this service is implementing, it maps to the wsdl:portname. In the format of ns:PORT_NAME where ns is a namespace prefix valid at this scope.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_publishedEndpointUrl"></a>
<a href="#_endpoint_query_option_publishedEndpointUrl" class="anchor"></a><strong>publishedEndpointUrl</strong> (service)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>This option can override the endpointUrl that published from the WSDL which can be accessed with service address url plus wsd.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_serviceClass"></a>
<a href="#_endpoint_query_option_serviceClass" class="anchor"></a><strong>serviceClass</strong> (service)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The class name of the SEI (Service Endpoint Interface) class which could have JSR181 annotation or not.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_serviceName"></a>
<a href="#_endpoint_query_option_serviceName" class="anchor"></a><strong>serviceName</strong> (service)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The service name this service is implementing, it maps to the wsdl:servicename.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_query_option_wsdlURL"></a>
<a href="#_endpoint_query_option_wsdlURL" class="anchor"></a><strong>wsdlURL</strong> (service)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The location of the WSDL. Can be on the classpath, file system, or be hosted remotely.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_message_headers"><a class="anchor" href="#_message_headers"></a>Message Headers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The CXF component supports 6 message header(s), which is/are listed below:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 50%;">
<col style="width: 10%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-center valign-top">Default</th>
<th class="tableblock halign-left valign-top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_header_operationName"></a>
<a href="#_endpoint_header_operationName" class="anchor"></a><strong>operationName</strong> (common)</p>
<p class="tableblock">Constant: <a href="https://javadoc.io/doc/org.apache.camel/camel-cxf-soap/latest/org/apache/camel/component/cxf/common/message/CxfConstants.html#OPERATION_NAME"><code>OPERATION_NAME</code></a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of the operation.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_header_operationNamespace"></a>
<a href="#_endpoint_header_operationNamespace" class="anchor"></a><strong>operationNamespace</strong> (common)</p>
<p class="tableblock">Constant: <a href="https://javadoc.io/doc/org.apache.camel/camel-cxf-soap/latest/org/apache/camel/component/cxf/common/message/CxfConstants.html#OPERATION_NAMESPACE"><code>OPERATION_NAMESPACE</code></a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The operation namespace.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_header_CamelDestinationOverrideUrl"></a>
<a href="#_endpoint_header_CamelDestinationOverrideUrl" class="anchor"></a><strong>CamelDestinationOverrideUrl</strong> (common)</p>
<p class="tableblock">Constant: <a href="https://javadoc.io/doc/org.apache.camel/camel-cxf-soap/latest/org/apache/camel/component/cxf/common/message/CxfConstants.html#DESTINATION_OVERRIDE_URL"><code>DESTINATION_OVERRIDE_URL</code></a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The destination override url.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_header_ResponseContext"></a>
<a href="#_endpoint_header_ResponseContext" class="anchor"></a><strong>ResponseContext</strong> (common)</p>
<p class="tableblock">Constant: <a href="https://javadoc.io/doc/org.apache.camel/camel-cxf-soap/latest/org/apache/camel/component/cxf/common/message/CxfConstants.html#RESPONSE_CONTEXT"><code>RESPONSE_CONTEXT</code></a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The response context.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_header_CamelAuthentication"></a>
<a href="#_endpoint_header_CamelAuthentication" class="anchor"></a><strong>CamelAuthentication</strong> (common)</p>
<p class="tableblock">Constant: <a href="https://javadoc.io/doc/org.apache.camel/camel-cxf-soap/latest/org/apache/camel/component/cxf/common/message/CxfConstants.html#AUTHENTICATION"><code>AUTHENTICATION</code></a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The authentication.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subject</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_endpoint_header_RequestContext"></a>
<a href="#_endpoint_header_RequestContext" class="anchor"></a><strong>RequestContext</strong> (common)</p>
<p class="tableblock">Constant: <a href="https://javadoc.io/doc/org.apache.camel/camel-cxf-soap/latest/org/apache/camel/component/cxf/common/message/CxfConstants.html#REQUEST_CONTEXT"><code>REQUEST_CONTEXT</code></a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The request context.</p>
</div></div></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Object</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>serviceName</code> and <code>portName</code> are <a href="http://en.wikipedia.org/wiki/QName">QNames</a>, so if you provide them be sure to prefix them with their <code>{namespace}</code> as shown in the examples above.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_descriptions_of_the_dataformats"><a class="anchor" href="#_descriptions_of_the_dataformats"></a>Descriptions of the dataformats</h3>
<div class="paragraph">
<p>In Apache Camel, the Camel CXF component is the key to integrating routes with Web services. You can use the Camel CXF component to create a CXF endpoint, which can be used in either of the following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Consumer</strong> — (at the start of a route) represents a Web service instance, which integrates with the route. The type of payload injected into the route depends on the value of the endpoint&#8217;s dataFormat option.</p>
</li>
<li>
<p><strong>Producer</strong> — (at other points in the route) represents a WS client proxy, which converts the current exchange object into an operation invocation on a remote Web service. The format of the current exchange must match the endpoint&#8217;s dataFormat setting.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 55.5555%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">DataFormat</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Support</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>POJO</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Plain Old Java Objects are the Java parameters to the method being invoked on the target server.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Both Protocol and Logical JAX-WS handlers are supported.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PAYLOAD</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The message payload (the contents of the <code>soap:body</code>) after
message configuration in the CXF endpoint is applied.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only Protocol JAX-WS handler is supported. Logical JAX-WS handler is not supported.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RAW</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides the raw message stream that is received from the transport layer.
It is not possible to touch or change the stream, some of the CXF
interceptors are removed if you are using this kind of DataFormat, so
you can&#8217;t see any soap headers after the camel-cxf consumer.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JAX-WS handler is not supported. Note that <code>RAW</code> mode is equivalent to deprecated <code>MESSAGE</code> mode.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CXF_MESSAGE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows for invoking the full capabilities of CXF interceptors by converting the message from the transport layer into a raw SOAP message</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You can determine the data format mode of an exchange by retrieving the
exchange property, <code>CamelCXFDataFormat</code>. The exchange key constant is
defined in <code>org.apache.camel.component.cxf.common.message.CxfConstants.DATA_FORMAT_PROPERTY</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_a_simple_cxf_service_with_pojo_data_format"><a class="anchor" href="#_creating_a_simple_cxf_service_with_pojo_data_format"></a>Creating a simple CXF service with POJO data format</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you  have a simple java web service interface and an implementation, you can create a  simple CXF service.</p>
</div>
<div class="listingblock">
<div class="title">Java web service interface:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.apache.camel.component.cxf.soap.server;

@WebService(targetNamespace = "http://server.soap.cxf.component.camel.apache.org/", name = "EchoService")
public interface EchoService {

    String echo(String text);
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Implementation:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.apache.camel.component.cxf.soap.server;

@WebService(name = "EchoService", serviceName = "EchoService", targetNamespace = "http://server.soap.cxf.component.camel.apache.org/")
public class EchoServiceImpl implements EchoService {

    @Override
    public String echo(String text) {
        return text;
    }

}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>POJO mode is the default, so you do not have to specify it.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Simple CXF service</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    from("cxf:echoServiceResponseFromImpl?serviceClass=org.apache.camel.component.cxf.soap.server.EchoServiceImpl&amp;address=/echo-impl")// no body set here; the response comes from EchoServiceImpl
                .log("${body}");</code></pre>
</div>
</div>
<div class="paragraph">
<p>In a more complicated implementation of the service, you can set the body from the route instead:</p>
</div>
<div class="listingblock">
<div class="title">CXF service with body set from route</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    from("cxf:echoServiceResponseFromRoute?serviceClass=org.apache.camel.component.cxf.soap.server.EchoServiceImpl&amp;address=/echo-route")
                .setBody(exchange -&gt; exchange.getMessage().getBody(String.class) + " from Camel route");</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_consuming_a_message_from_a_camel_cxf_endpoint_in_pojo_data_format"><a class="anchor" href="#_consuming_a_message_from_a_camel_cxf_endpoint_in_pojo_data_format"></a>Consuming a message from a <code>camel-cxf</code> endpoint in POJO data format</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>camel-cxf</code> endpoint consumer POJO data format is based on the
<a href="http://cxf.apache.org/docs/invokers.html">CXF invoker</a>, so the
message header has a property with the name of <code>CxfConstants.OPERATION_NAME</code> and the message body is a list of the SEI method parameters.</p>
</div>
<div class="listingblock">
<div class="title"><a href="https://github.com/apache/camel/blob/main/components/camel-cxf/camel-cxf-soap/src/test/java/org/apache/camel/wsdl_first/PersonProcessor.java">PersonProcessor</a>:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class PersonProcessor implements Processor {

    private static final Logger LOG = LoggerFactory.getLogger(PersonProcessor.class);

    @Override
    public void process(Exchange exchange) throws Exception {
        LOG.info("processing exchange in camel");

        BindingOperationInfo boi = (BindingOperationInfo) exchange.getProperty(BindingOperationInfo.class.getName());
        if (boi != null) {
            LOG.info("boi.isUnwrapped" + boi.isUnwrapped());
        }
        // Get the parameters list which element is the holder.
        MessageContentsList msgList = (MessageContentsList) exchange.getIn().getBody();
        Holder&lt;String&gt; personId = (Holder&lt;String&gt;) msgList.get(0);
        Holder&lt;String&gt; ssn = (Holder&lt;String&gt;) msgList.get(1);
        Holder&lt;String&gt; name = (Holder&lt;String&gt;) msgList.get(2);

        if (personId.value == null || personId.value.length() == 0) {
            LOG.info("person id 123, so throwing exception");
            // Try to throw out the soap fault message
            org.apache.camel.wsdl_first.types.UnknownPersonFault personFault
                    = new org.apache.camel.wsdl_first.types.UnknownPersonFault();
            personFault.setPersonId("");
            org.apache.camel.wsdl_first.UnknownPersonFault fault
                    = new org.apache.camel.wsdl_first.UnknownPersonFault("Get the null value of person name", personFault);
            exchange.getMessage().setBody(fault);
            return;
        }

        name.value = "Bonjour";
        ssn.value = "123";
        LOG.info("setting Bonjour as the response");
        // Set the response message, first element is the return value of the operation,
        // the others are the holders of method parameters
        exchange.getMessage().setBody(new Object[] { null, personId, ssn, name });
    }

}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_preparing_the_message_for_the_camel_cxf_endpoint_in_pojo_data_format"><a class="anchor" href="#_preparing_the_message_for_the_camel_cxf_endpoint_in_pojo_data_format"></a>Preparing the message for the <code>camel-cxf</code> endpoint in POJO data format</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>camel-cxf</code> endpoint producer is based on the
<a href="https://github.com/apache/cxf/blob/master/core/src/main/java/org/apache/cxf/endpoint/Client.java">CXF client API</a>.</p>
</div>
<div class="paragraph">
<p>To prepare the message:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Specify the operation name in the message header.</p>
</li>
<li>
<p>Add the method parameters to a list.</p>
</li>
<li>
<p>Initialize the  message with this parameter list.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The response message&#8217;s body is a <code>messageContentsList</code>, so you can get the result from that list.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If you do not specify the operation name in the message header, <code>CxfProducer</code> tries to use the <code>defaultOperationName</code> from <code>CxfEndpoint</code>.</p>
</li>
<li>
<p>If there is no <code>defaultOperationName</code> set on <code>CxfEndpoint</code>, it will pick up the first operationName from the Operation  list.</p>
</li>
<li>
<p>If you want to get the object array from the message body, you can get
the body using <code>message.getBody(Object[].class)</code>, as shown here:</p>
<div class="listingblock">
<div class="title"><a href="https://github.com/apache/camel/blob/main/components/camel-cxf/camel-cxf-soap/src/test/java/org/apache/camel/component/cxf/jaxws/CxfProducerRouterTest.java#L117">CxfProducerRouterTest.testInvokingSimpleServerWithParams</a>:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Exchange senderExchange = new DefaultExchange(context, ExchangePattern.InOut);
final List&lt;String&gt; params = new ArrayList&lt;&gt;();
// Prepare the request message for the camel-cxf procedure
params.add(TEST_MESSAGE);
senderExchange.getIn().setBody(params);
senderExchange.getIn().setHeader(CxfConstants.OPERATION_NAME, ECHO_OPERATION);

Exchange exchange = template.send("direct:EndpointA", senderExchange);

org.apache.camel.Message out = exchange.getMessage();
// The response message's body is an MessageContentsList which first element is the return value of the operation,
// If there are some holder parameters, the holder parameter is filled in the reset of List.
// The result is extracted from the MessageContentsList with the String class type
MessageContentsList result = (MessageContentsList) out.getBody();
LOG.info("Received output text: " + result.get(0));
Map&lt;String, Object&gt; responseContext = CastUtils.cast((Map&lt;?, ?&gt;) out.getHeader(Client.RESPONSE_CONTEXT));
assertNotNull(responseContext);
assertEquals("UTF-8", responseContext.get(org.apache.cxf.message.Message.ENCODING),
        "We should get the response context here");
assertEquals("echo " + TEST_MESSAGE, result.get(0), "Reply body on Camel is wrong");</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_consuming_a_message_from_a_camel_cxf_endpoint_in_payload_data_format"><a class="anchor" href="#_consuming_a_message_from_a_camel_cxf_endpoint_in_payload_data_format"></a>Consuming a message from a camel-cxf endpoint in PAYLOAD data format</h2>
<div class="sectionbody">
<div class="paragraph">
<p>PAYLOAD means that you process the payload from the SOAP envelope as a native CxfPayload. <code>Message.getBody()</code> will return a <code>org.apache.camel.component.cxf.CxfPayload</code> object, with getters for SOAP message headers and the SOAP body.</p>
</div>
<div class="listingblock">
<div class="title"><a href="https://github.com/apache/camel/blob/main/components/camel-cxf/camel-cxf-soap/src/test/java/org/apache/camel/component/cxf/jaxws/CxfConsumerPayloadTest.java#L68">CxfConsumerPayloadTest</a>:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">protected RouteBuilder createRouteBuilder() {
    return new RouteBuilder() {
        public void configure() {
            from(simpleEndpointURI + "&amp;dataFormat=PAYLOAD").to("log:info").process(new Processor() {
                public void process(final Exchange exchange) throws Exception {
                    CxfPayload&lt;SoapHeader&gt; requestPayload = exchange.getIn().getBody(CxfPayload.class);
                    List&lt;Source&gt; inElements = requestPayload.getBodySources();
                    List&lt;Source&gt; outElements = new ArrayList&lt;&gt;();
                    // You can use a customer toStringConverter to turn a CxfPayLoad message into String as you want
                    String request = exchange.getIn().getBody(String.class);
                    XmlConverter converter = new XmlConverter();
                    String documentString = ECHO_RESPONSE;

                    Element in = new XmlConverter().toDOMElement(inElements.get(0));
                    // Just check the element namespace
                    if (!in.getNamespaceURI().equals(ELEMENT_NAMESPACE)) {
                        throw new IllegalArgumentException("Wrong element namespace");
                    }
                    if (in.getLocalName().equals("echoBoolean")) {
                        documentString = ECHO_BOOLEAN_RESPONSE;
                        checkRequest("ECHO_BOOLEAN_REQUEST", request);
                    } else {
                        documentString = ECHO_RESPONSE;
                        checkRequest("ECHO_REQUEST", request);
                    }
                    Document outDocument = converter.toDOMDocument(documentString, exchange);
                    outElements.add(new DOMSource(outDocument.getDocumentElement()));
                    // set the payload header with null
                    CxfPayload&lt;SoapHeader&gt; responsePayload = new CxfPayload&lt;&gt;(null, outElements, null);
                    exchange.getMessage().setBody(responsePayload);
                }
            });
        }
    };
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_and_setting_soap_headers_in_pojo_mode"><a class="anchor" href="#_getting_and_setting_soap_headers_in_pojo_mode"></a>Getting and setting SOAP headers in POJO mode</h2>
<div class="sectionbody">
<div class="paragraph">
<p>POJO means that the data format is a list of Java objects when the <code>camel-cxf</code> endpoint produces or consumes Camel exchanges. Even though Camel exposes the message body as POJOs in this mode, <code>camel-cxf</code> still provides access to read and write SOAP headers.</p>
</div>
<div class="paragraph">
<p>However, since CXF interceptors remove in-band SOAP headers from the header list after they have been processed, only out-of-band SOAP headers are available to <code>camel-cxf</code> in POJO mode.</p>
</div>
<div class="paragraph">
<p>The following example illustrates how to get and set SOAP headers. If you have a route that forwards from one <code>camel-cxf</code> endpoint to another, such as SOAP Client &#8594; Camel &#8594; CXF service, you can attach two processors to obtain/insert SOAP headers:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Before a request goes out to the CXF service.</p>
</li>
<li>
<p>Before the response comes back to the SOAP Client.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Processor (1) and (2) in this example are <code>InsertRequestOutHeaderProcessor</code> and  <code>InsertResponseOutHeaderProcessor</code>:</p>
</div>
<div id="_tabs_1" class="openblock tabs is-sync is-loading">
<div class="title">Route for SOAP headers</div>
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_1_java" class="tab">
<p>Java</p>
</li>
<li id="_tabs_1_xml" class="tab">
<p>XML</p>
</li>
</ul>
</div>
<div id="_tabs_1_java--panel" class="tabpanel" aria-labelledby="_tabs_1_java">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("cxf:bean:routerRelayEndpointWithInsertion")
    .process(new InsertRequestOutHeaderProcessor())
    .to("cxf:bean:serviceRelayEndpointWithInsertion")
    .process(new InsertResponseOutHeaderProcessor());</code></pre>
</div>
</div>
</div>
<div id="_tabs_1_xml--panel" class="tabpanel" aria-labelledby="_tabs_1_xml">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;route&gt;
    &lt;from uri="cxf:bean:routerRelayEndpointWithInsertion"/&gt; <i class="conum" data-value="1"></i><b>(1)</b>
    &lt;process ref="InsertRequestOutHeaderProcessor" /&gt;
    &lt;to uri="cxf:bean:serviceRelayEndpointWithInsertion"/&gt; <i class="conum" data-value="2"></i><b>(2)</b>
    &lt;process ref="InsertResponseOutHeaderProcessor" /&gt;
&lt;/route&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>SOAP headers are propagated to and from Camel Message headers.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Camel message header name is <code>org.apache.cxf.headers.Header.list</code> which is a constant defined in CXF (<code>org.apache.cxf.headers.Header.HEADER_LIST</code>).</p>
</li>
<li>
<p>The header value is a List of CXF SoapHeader objects (<code>org.apache.cxf.binding.soap.SoapHeader</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can access SOAP headers in the same way in both <code>InsertResponseOutHeaderProcessor</code> and <code>InsertRequestOutHeaderProcessor</code>. The only difference between the two processors is the direction of the inserted SOAP header.</p>
</div>
<div class="paragraph">
<p>The following snippet is the <code>InsertResponseOutHeaderProcessor</code> (that inserts a new SOAP header in the response message) example:</p>
</div>
<div class="listingblock">
<div class="title"><a href="https://github.com/apache/camel/blob/main/components/camel-cxf/camel-cxf-spring-soap/src/test/java/org/apache/camel/component/cxf/soap/headers/CxfMessageHeadersRelayTest.java#L731">CxfMessageHeadersRelayTest</a>:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public static class InsertResponseOutHeaderProcessor implements Processor {

    public void process(Exchange exchange) throws Exception {
        List&lt;SoapHeader&gt; soapHeaders = CastUtils.cast((List&lt;?&gt;)exchange.getIn().getHeader(Header.HEADER_LIST));

        // Insert a new header
        String xml = "&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;outofbandHeader "
            + "xmlns=\"http://cxf.apache.org/outofband/Header\" hdrAttribute=\"testHdrAttribute\" "
            + "xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" soap:mustUnderstand=\"1\"&gt;"
            + "&lt;name&gt;New_testOobHeader&lt;/name&gt;&lt;value&gt;New_testOobHeaderValue&lt;/value&gt;&lt;/outofbandHeader&gt;";
        SoapHeader newHeader = new SoapHeader(soapHeaders.get(0).getName(),
                       DOMUtils.readXml(new StringReader(xml)).getDocumentElement());
        // ensure the direction is OUT since it is a response message.
        newHeader.setDirection(Direction.DIRECTION_OUT);
        //newHeader.setMustUnderstand(false);
        soapHeaders.add(newHeader);

    }

}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_and_setting_soap_headers_in_payload_mode"><a class="anchor" href="#_getting_and_setting_soap_headers_in_payload_mode"></a>Getting and setting SOAP headers in PAYLOAD mode</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can see how to access the SOAP message as a <code>CxfPayload</code> object in
PAYLOAD mode in the section <a href="#_consuming_a_message_from_a_camel_cxf_endpoint_in_payload_data_format">Consuming a message from a camel-cxf endpoint in PAYLOAD data format</a>.</p>
</div>
<div class="paragraph">
<p>Once you obtain a <code>CxfPayload</code> object, you can invoke the <code>CxfPayload.getHeaders()</code> method that returns a List of <code>DOM</code> Elements (SOAP headers).</p>
</div>
<div class="listingblock">
<div class="title"><a href="https://github.com/apache/camel/blob/main/components/camel-cxf/camel-cxf-soap/src/test/java/org/apache/camel/component/cxf/jaxws/CxfPayLoadSoapHeaderTest.java#L53">CxfPayLoadSoapHeaderTest</a>:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from(getRouterEndpointURI()).process(new Processor() {
    public void process(Exchange exchange) throws Exception {
        CxfPayload&lt;SoapHeader&gt; payload = exchange.getIn().getBody(CxfPayload.class);
        List&lt;Source&gt; elements = payload.getBodySources();
        assertNotNull(elements, "We should get the elements here");
        assertEquals(1, elements.size(), "Get the wrong elements size");

        Element el = new XmlConverter().toDOMElement(elements.get(0));
        elements.set(0, new DOMSource(el));
        assertEquals("http://camel.apache.org/pizza/types",
                el.getNamespaceURI(), "Get the wrong namespace URI");

        List&lt;SoapHeader&gt; headers = payload.getHeaders();
        assertNotNull(headers, "We should get the headers here");
        assertEquals(1, headers.size(), "Get the wrong headers size");
        assertEquals("http://camel.apache.org/pizza/types",
                ((Element) (headers.get(0).getObject())).getNamespaceURI(), "Get the wrong namespace URI");
        // alternatively you can also get the SOAP header via the camel header:
        headers = exchange.getIn().getHeader(Header.HEADER_LIST, List.class);
        assertNotNull(headers, "We should get the headers here");
        assertEquals(1, headers.size(), "Get the wrong headers size");
        assertEquals("http://camel.apache.org/pizza/types",
                ((Element) (headers.get(0).getObject())).getNamespaceURI(), "Get the wrong namespace URI");

    }

})
.to(getServiceEndpointURI());</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also use the method described in the section <a href="#_getting_and_setting_soap_headers_in_payload_mode">Getting and setting SOAP headers in PAYLOAD mode</a> to set or get
the SOAP headers.</p>
</div>
<div class="paragraph">
<p>You can use the header <code>org.apache.cxf.headers.Header.list</code> to get and set a list of SOAP headers. This does also mean that if you have a route that forwards  from one <code>camel-cxf</code> endpoint to another (SOAP Client &#8594; Camel &#8594; CXF  service), now also the SOAP headers sent by the SOAP client are forwarded to the CXF service.</p>
</div>
<div class="paragraph">
<p>If you do not want to forward the headers you have to remove them in the Camel header <code>org.apache.cxf.headers.Header.list</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_soap_headers_are_not_available_in_raw_mode"><a class="anchor" href="#_soap_headers_are_not_available_in_raw_mode"></a>SOAP headers are not available in RAW mode</h2>
<div class="sectionbody">
<div class="paragraph">
<p>SOAP headers are not available in RAW mode as SOAP processing is skipped.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_throwing_a_soap_fault_from_camel"><a class="anchor" href="#_throwing_a_soap_fault_from_camel"></a>Throwing a SOAP Fault from Camel</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you are using a <code>camel-cxf</code> endpoint to consume the SOAP request, you  may need to throw the SOAP Fault from the Camel context.  You can use the <code>throwFault</code> DSL to do that; it works for <code>POJO</code>, <code>PAYLOAD</code> and <code>RAW</code> data format.</p>
</div>
<div class="paragraph">
<p>You can define the soap fault as shown here:</p>
</div>
<div class="listingblock">
<div class="title"><a href="https://github.com/apache/camel/blob/main/components/camel-cxf/camel-cxf-soap/src/test/java/org/apache/camel/component/cxf/jaxws/CxfCustomizedExceptionTest.java#L65">CxfCustomizedExceptionTest</a>:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">SOAP_FAULT = new SoapFault(EXCEPTION_MESSAGE, SoapFault.FAULT_CODE_CLIENT);
Element detail = SOAP_FAULT.getOrCreateDetail();
Document doc = detail.getOwnerDocument();
Text tn = doc.createTextNode(DETAIL_TEXT);
detail.appendChild(tn);</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can define the SOAP fault as shown here:</p>
</div>
<div class="listingblock">
<div class="title">Throwing the SOAP fault:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from(routerEndpointURI).setFaultBody(constant(SOAP_FAULT));</code></pre>
</div>
</div>
<div class="paragraph">
<p>If your CXF endpoint is working in the <code>RAW</code> data format, you can set the <code>SOAP Fault</code> message in the message body and set the response code in the message header as demonstrated here:</p>
</div>
<div class="listingblock">
<div class="title"><a href="https://github.com/apache/camel/blob/main/components/camel-cxf/camel-cxf-soap/src/test/java/org/apache/camel/component/cxf/jaxws/CxfMessageStreamExceptionTest.java#L43">CxfMessageStreamExceptionTest</a>:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from(routerEndpointURI).process(new Processor() {

    public void process(Exchange exchange) throws Exception {
        Message out = exchange.getMessage();
        // Set the message body with the
        out.setBody(this.getClass().getResourceAsStream("SoapFaultMessage.xml"));
        // Set the response code here
        out.setHeader(org.apache.cxf.message.Message.RESPONSE_CODE, new Integer(500));
    }

});</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the <code>POJO</code> data format you can set the <code>SOAPFault</code> on the out body.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="propagate-request-response-context"><a class="anchor" href="#propagate-request-response-context"></a>Propagating a <code>camel-cxf</code> endpoint&#8217;s request and response context</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://github.com/apache/cxf/blob/master/core/src/main/java/org/apache/cxf/endpoint/Client.java">CXF client API</a> provides a way to invoke the operation with request and
response context. If you are using a <code>camel-cxf</code> endpoint producer to
invoke the outside web service, you can set the request context and get
response context with the following code:</p>
</div>
<div class="listingblock">
<div class="title">Setting the request context and getting the response context:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">CxfExchange exchange = (CxfExchange)template.send(getJaxwsEndpointUri(), new Processor() {
     public void process(final Exchange exchange) {
         final List&lt;String&gt; params = new ArrayList&lt;String&gt;();
         params.add(TEST_MESSAGE);
         // Set the request context to the inMessage
         Map&lt;String, Object&gt; requestContext = new HashMap&lt;String, Object&gt;();
         requestContext.put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, JAXWS_SERVER_ADDRESS);
         exchange.getIn().setBody(params);
         exchange.getIn().setHeader(Client.REQUEST_CONTEXT , requestContext);
         exchange.getIn().setHeader(CxfConstants.OPERATION_NAME, GREET_ME_OPERATION);
     }
});
org.apache.camel.Message out = exchange.getMessage();
// The output is an object array, the first element of the array is the return value
Object\[\] output = out.getBody(Object\[\].class);
LOG.info("Received output text: " + output\[0\]);
// Get the response context form outMessage
Map&lt;String, Object&gt; responseContext = CastUtils.cast((Map)out.getHeader(Client.RESPONSE_CONTEXT));
assertNotNull(responseContext);
assertEquals("Get the wrong wsdl operation name", "{http://apache.org/hello_world_soap_http}greetMe",
    responseContext.get("javax.xml.ws.wsdl.operation").toString());</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_attachment_support"><a class="anchor" href="#_attachment_support"></a>Attachment Support</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_pojo_mode"><a class="anchor" href="#_pojo_mode"></a>POJO Mode</h3>
<div class="paragraph">
<p>In <strong>POJO Mode</strong>, Message Transmission Optimization Mechanism (MTOM) is supported if it is enabled. See <a href="#set-the-cxf-endpoint-property">Setting the CXF endpoint property:</a> in Payload Mode.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">DataHandler Exchange.getIn(AttachmentMessage.class).getAttachment(String id)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_payload_mode"><a class="anchor" href="#_payload_mode"></a>Payload Mode</h3>
<div class="paragraph">
<p>In <strong>Payload Mode</strong>, Message Transmission Optimization Mechanism (MTOM) is supported.
Attachments can be retrieved through the Camel Message API.
SOAP with Attachment (SwA) is supported and attachments can be retrieved.
SwA is the default, as the default setting for CXF endpoint property <code>mtom-enabled</code> is <code>false</code>.</p>
</div>
<div class="paragraph">
<p>To enable MTOM, set the CXF endpoint property <code>mtom-enabled</code> to <code>true</code>.</p>
</div>
<div id="set-the-cxf-endpoint-property" class="openblock tabs is-sync is-loading">
<div class="title">Setting the CXF endpoint property:</div>
<div class="content">
<div class="ulist tablist">
<ul>
<li id="set_the_cxf_endpoint_property_java_quarkus" class="tab">
<p>Java (Quarkus)</p>
</li>
</ul>
</div>
<div id="set_the_cxf_endpoint_property_java_quarkus--panel" class="tabpanel" aria-labelledby="set_the_cxf_endpoint_property_java_quarkus">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.apache.camel.builder.RouteBuilder;
import org.apache.camel.component.cxf.common.DataFormat;
import org.apache.camel.component.cxf.jaxws.CxfEndpoint;
import jakarta.enterprise.context.ApplicationScoped;
import jakarta.enterprise.context.SessionScoped;
import jakarta.enterprise.inject.Produces;
import jakarta.inject.Named;

</span><span class="fold-block">@ApplicationScoped
public class CxfSoapMtomRoutes extends RouteBuilder {

    @Override
    public void configure() {
        from("cxf:bean:mtomPayloadModeEndpoint")
                .process( exchange -&gt; { ... });
    }

    @Produces
    @SessionScoped
    @Named
    CxfEndpoint mtomPayloadModeEndpoint() {
        final CxfEndpoint result = new CxfEndpoint();
        result.setServiceClass(MyMtomService.class);
        result.setDataFormat(DataFormat.PAYLOAD);
        result.setMtomEnabled(true);
        result.setAddress("/mtom/hello");
        return result;
    }
}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">You can produce a Camel message with attachment to send to a CXF endpoint in <strong>Payload mode</strong></dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Exchange exchange = context.createProducerTemplate().send("direct:testEndpoint", new Processor() {

    public void process(Exchange exchange) throws Exception {
        exchange.setPattern(ExchangePattern.InOut);
        List&lt;Source&gt; elements = new ArrayList&lt;Source&gt;();
        elements.add(new DOMSource(DOMUtils.readXml(new StringReader(MtomTestHelper.REQ_MESSAGE)).getDocumentElement()));
        CxfPayload&lt;SoapHeader&gt; body = new CxfPayload&lt;SoapHeader&gt;(new ArrayList&lt;SoapHeader&gt;(),
            elements, null);
        exchange.getIn().setBody(body);
        exchange.getIn(AttachmentMessage.class).addAttachment(MtomTestHelper.REQ_PHOTO_CID,
            new DataHandler(new ByteArrayDataSource(MtomTestHelper.REQ_PHOTO_DATA, "application/octet-stream")));

        exchange.getIn(AttachmentMessage.class).addAttachment(MtomTestHelper.REQ_IMAGE_CID,
            new DataHandler(new ByteArrayDataSource(MtomTestHelper.requestJpeg, "image/jpeg")));

    }

});

// process response

CxfPayload&lt;SoapHeader&gt; out = exchange.getMessage().getBody(CxfPayload.class);
assertEquals(1, out.getBody().size());

Map&lt;String, String&gt; ns = new HashMap&lt;&gt;();
ns.put("ns", MtomTestHelper.SERVICE_TYPES_NS);
ns.put("xop", MtomTestHelper.XOP_NS);

XPathUtils xu = new XPathUtils(ns);
Element oute = new XmlConverter().toDOMElement(out.getBody().get(0));
Element ele = (Element) xu.getValue("//ns:DetailResponse/ns:photo/xop:Include", oute,
                XPathConstants.NODE);
String photoId = ele.getAttribute("href").substring(4); // skip "cid:"

ele = (Element) xu.getValue("//ns:DetailResponse/ns:image/xop:Include", oute,
                XPathConstants.NODE);
String imageId = ele.getAttribute("href").substring(4); // skip "cid:"

DataHandler dr = exchange.getMessage(AttachmentMessage.class).getAttachment(decodingReference(photoId));
assertEquals("application/octet-stream", dr.getContentType());
assertArrayEquals(MtomTestHelper.RESP_PHOTO_DATA, IOUtils.readBytesFromStream(dr.getInputStream()));

dr = exchange.getMessage(AttachmentMessage.class).getAttachment(decodingReference(imageId));
assertEquals("image/jpeg", dr.getContentType());

BufferedImage image = ImageIO.read(dr.getInputStream());
assertEquals(560, image.getWidth());
assertEquals(300, image.getHeight());</code></pre>
</div>
</div>
<div id="retrieve-attachments-camel-message-api" class="paragraph">
<p>You can also consume a Camel message received from a CXF endpoint in <strong>Payload mode</strong>:</p>
</div>
<div class="listingblock">
<div class="title"><a href="https://github.com/apache/camel/blob/main/components/camel-cxf/camel-cxf-spring-soap/src/test/java/org/apache/camel/component/cxf/mtom/CxfMtomConsumerPayloadModeTest.java#L97">CxfMtomConsumerPayloadModeTest</a> :</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public static class MyProcessor implements Processor {

    @Override
    public void process(Exchange exchange) throws Exception {
        CxfPayload&lt;SoapHeader&gt; in = exchange.getIn().getBody(CxfPayload.class);

        // verify request
        assertEquals(1, in.getBody().size());

        Map&lt;String, String&gt; ns = new HashMap&lt;&gt;();
        ns.put("ns", MtomTestHelper.SERVICE_TYPES_NS);
        ns.put("xop", MtomTestHelper.XOP_NS);

        XPathUtils xu = new XPathUtils(ns);
        Element body = new XmlConverter().toDOMElement(in.getBody().get(0));
        Element ele = (Element) xu.getValue("//ns:Detail/ns:photo/xop:Include", body,
                XPathConstants.NODE);
        String photoId = ele.getAttribute("href").substring(4); // skip "cid:"
        assertEquals(MtomTestHelper.REQ_PHOTO_CID, photoId);

        ele = (Element) xu.getValue("//ns:Detail/ns:image/xop:Include", body,
                XPathConstants.NODE);
        String imageId = ele.getAttribute("href").substring(4); // skip "cid:"
        assertEquals(MtomTestHelper.REQ_IMAGE_CID, imageId);

        DataHandler dr = exchange.getIn(AttachmentMessage.class).getAttachment(photoId);
        assertEquals("application/octet-stream", dr.getContentType());
        assertArrayEquals(MtomTestHelper.REQ_PHOTO_DATA, IOUtils.readBytesFromStream(dr.getInputStream()));

        dr = exchange.getIn(AttachmentMessage.class).getAttachment(imageId);
        assertEquals("image/jpeg", dr.getContentType());
        assertArrayEquals(MtomTestHelper.requestJpeg, IOUtils.readBytesFromStream(dr.getInputStream()));

        // create response
        List&lt;Source&gt; elements = new ArrayList&lt;&gt;();
        elements.add(new DOMSource(StaxUtils.read(new StringReader(MtomTestHelper.RESP_MESSAGE)).getDocumentElement()));
        CxfPayload&lt;SoapHeader&gt; sbody = new CxfPayload&lt;&gt;(
                new ArrayList&lt;SoapHeader&gt;(),
                elements, null);
        exchange.getMessage().setBody(sbody);
        exchange.getMessage(AttachmentMessage.class).addAttachment(MtomTestHelper.RESP_PHOTO_CID,
                new DataHandler(new ByteArrayDataSource(MtomTestHelper.RESP_PHOTO_DATA, "application/octet-stream")));

        exchange.getMessage(AttachmentMessage.class).addAttachment(MtomTestHelper.RESP_IMAGE_CID,
                new DataHandler(new ByteArrayDataSource(MtomTestHelper.responseJpeg, "image/jpeg")));

    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_raw_mode"><a class="anchor" href="#_raw_mode"></a>RAW Mode</h3>
<div class="paragraph">
<p>In <strong>RAW Mode</strong>, attachments are not supported as it does not process the message at all.</p>
</div>
</div>
<div class="sect2">
<h3 id="_cxf_message_mode"><a class="anchor" href="#_cxf_message_mode"></a>CXF_MESSAGE Mode</h3>
<div class="paragraph">
<p>In <strong>CXF_MESSAGE Mode</strong>, MTOM is supported, and Attachments can be retrieved
by Camel Message APIs (see <a href="#retrieve-attachments-camel-message-api">[retrieve-attachments-camel-message-api]</a>). Note that when receiving a multipart that is, a MTOM message, the default <strong>SOAPMessage to String</strong> converter will provide the complete multipart payload in the body. If
you require just the SOAP XML as a String, you can set the message body with <code>message.getSOAPPart()</code>, and <strong>Camel convert</strong> can do the rest of work for you.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="streaming-support-in-payload-mode"><a class="anchor" href="#streaming-support-in-payload-mode"></a>Streaming Support in PAYLOAD mode</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>camel-cxf</code> component supports streaming of incoming messages when using PAYLOAD mode.</p>
</div>
<div class="paragraph">
<p>The incoming messages can remain as a <code>javax.xml.transform.Source</code> while  being routed and, if nothing modifies the payload, can then be directly  streamed out to the target destination.</p>
</div>
<div class="paragraph">
<p>For a simple proxy (such as <code>from("cxf:&#8230;&#8203;").to("cxf:&#8230;&#8203;")</code>), this provides significant improvements in performance and memory requirements.</p>
</div>
<div class="paragraph">
<p>However, there are cases where streaming may not be appropriate or desired. Due to the streaming nature, invalid incoming XML may not be caught until later in the processing chain. Also, certain actions may require the message to be <code>DOM</code> parsed anyway (for example <code>WS-Security</code> or message tracing) in which case the advantages of the streaming is limited.</p>
</div>
<div class="sect2">
<h3 id="_controlling_streaming_in_payload_mode"><a class="anchor" href="#_controlling_streaming_in_payload_mode"></a>Controlling streaming in PAYLOAD mode</h3>
<div class="paragraph">
<p>You can control the streaming in several ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Endpoint property</strong>: you can add <code>allowStreaming=false</code> as an endpoint property to turn the streaming on or off.</p>
</li>
<li>
<p><strong>Component property</strong>: the <code>CxfComponent</code> object has an <code>allowStreaming</code>
property that can set the default for endpoints created from that component.</p>
</li>
<li>
<p><strong>Global system property</strong>: you can add a system property to <code>org.apache.camel.component.cxf.streaming</code> to <code>false</code> to turn it off. That sets the global default, but the endpoint property will override this value (for that endpoint only).</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Parsing incoming messages with <code>DOM</code> can require a lot of memory and time for large messages.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_the_generic_cxf_dispatch_mode"><a class="anchor" href="#_using_the_generic_cxf_dispatch_mode"></a>Using the generic CXF Dispatch mode</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>camel-cxf</code> component supports the generic <a href="https://cxf.apache.org/docs/jax-ws-dispatch-api.html">CXF dispatch mode</a> that can transport messages of arbitrary structures (that is not bound to a specific XML schema). To use this mode, you simply omit specifying the <code>wsdlURL</code> and <code>serviceClass</code> attributes of the CXF endpoint.</p>
</div>
<div class="listingblock">
<div class="title">Endpoint in PAYLOAD mode:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;cxf:cxfEndpoint id="dispatchEndpoint" address="http://localhost:9000/SoapContext/SoapAnyPort"&gt;
    &lt;cxf:properties&gt;
        &lt;entry key="dataFormat" value="PAYLOAD"/&gt;
    &lt;/cxf:properties&gt;
&lt;/cxf:cxfEndpoint&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The default CXF dispatch client does not send a specific <code>SOAPAction</code> header. Therefore, when the target service requires a specific <code>SOAPAction</code> value, you supply it in the Camel header using the key <code>SOAPAction</code> (case-insensitive).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="cxf-loggingout-interceptor-in-message-mode"><a class="anchor" href="#cxf-loggingout-interceptor-in-message-mode"></a>Enabling CXF&#8217;s LoggingOutInterceptor in RAW mode</h3>
<div class="paragraph">
<p>CXF&#8217;s <code>LoggingOutInterceptor</code> outputs an outbound message that goes on the wire to logging system (Java Util Logging).</p>
</div>
<div class="paragraph">
<p>Since the <code>LoggingOutInterceptor</code> is in <code>PRE_STREAM</code> phase, and the <code>PRE_STREAM</code> phase is removed in <code>RAW</code> mode, you have to configure <code>LoggingOutInterceptor</code> to be run during the <code>WRITE</code> phase:</p>
</div>
<div id="_tabs_3" class="openblock tabs is-sync is-loading">
<div class="title"><code>LoggingOutInterceptor</code> in <code>RAW</code> mode:</div>
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_3_java_quarkus" class="tab">
<p>Java (Quarkus)</p>
</li>
</ul>
</div>
<div id="_tabs_3_java_quarkus--panel" class="tabpanel" aria-labelledby="_tabs_3_java_quarkus">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import java.util.List;
import org.apache.camel.builder.RouteBuilder;
import org.apache.camel.component.cxf.common.DataFormat;
import org.apache.camel.component.cxf.jaxws.CxfEndpoint;
import org.apache.cxf.interceptor.LoggingOutInterceptor;
import org.apache.cxf.phase.Phase;
import jakarta.enterprise.context.SessionScoped;
import jakarta.enterprise.inject.Produces;
import jakarta.inject.Named;

</span><span class="fold-block">...

@Produces
@SessionScoped
@Named
CxfEndpoint soapMtomEnabledServerPayloadModeEndpoint() {
    final CxfEndpoint result = new CxfEndpoint();
    result.setServiceClass(HelloService.class);
    result.setDataFormat(DataFormat.RAW);
    result.setOutFaultInterceptors(List.of(new LoggingOutInterceptor(Phase.WRITE)));;
    result.setAddress("/helloworld");
    return result;
}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_the_cxfheaderfilterstrategy_options"><a class="anchor" href="#_the_cxfheaderfilterstrategy_options"></a>The <code>CxfHeaderFilterStrategy</code> options</h3>
<div class="paragraph">
<p>There are <em>in-band</em> and <em>out-of-band</em> on-the-wire headers from the
perspective of a JAXWS WSDL-first developer.</p>
</div>
<div class="paragraph">
<p>When a route has a CXF endpoint and the developer needs to have
on-the-wire headers, such as SOAP headers, be relayed along the route to
be consumed say by another JAXWS endpoint, a <code>CxfHeaderFilterStrategy</code>
instance should be set on the CXF endpoint, then <code>relayHeaders</code> property
of the <code>CxfHeaderFilterStrategy</code> instance should be set to <code>true</code>, which
is the default value. Plus, the <code>CxfHeaderFilterStrategy</code> instance also
holds a list of <code>MessageHeaderFilter</code> interface, which decides if a specific
header will be relayed or not.</p>
</div>
<div class="paragraph">
<p>The <em>in-band</em> headers are headers that you define explicitly as part of the WSDL binding contract for an endpoint such as SOAP headers.</p>
</div>
<div class="paragraph">
<p>The <em>out-of-band</em> headers are headers that you serialize over the wire, but they are not explicitly part of the WSDL binding contract.</p>
</div>
<div class="paragraph">
<p>Headers relaying/filtering is bi-directional.</p>
</div>
<div class="paragraph">
<p>When a route has a CXF endpoint, and you need on-the-wire headers (such as SOAP headers) relayed along the route to be consumed by for example another JAXWS endpoint, you must set <code>relayHeaders</code> to <code>true</code>, the default value.</p>
</div>
<div class="paragraph">
<p>You can find tests that show how you can relay/drop headers here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/apache/camel/blob/main/components/camel-cxf/camel-cxf-spring-soap/src/test/java/org/apache/camel/component/cxf/soap/headers/CxfMessageHeadersRelayTest.java">CxfMessageHeadersRelayTest</a></p>
</li>
<li>
<p>The <code>relayHeaders=true</code> expresses an intent to relay the headers. The
actual decision on whether a given header is relayed is delegated to a
pluggable instance that implements the <code>MessageHeaderFilter</code> interface.
A concrete implementation of <code>MessageHeaderFilter</code> will be consulted to
decide if a header needs to be relayed or not. There is already an
implementation of <code>SoapMessageHeaderFilter</code> which binds itself to
well-known SOAP name spaces.  If there is a header on the wire whose name space
is unknown to the runtime, the header will simply be relayed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>POJO</code> and <code>PAYLOAD</code> modes are supported.</p>
</div>
<div class="paragraph">
<p>In <code>POJO</code> mode, only out-of-band message headers are available for filtering as the in-band headers have been processed and removed from header list by CXF. The in-band headers are incorporated into the <code>MessageContentList</code> in POJO mode.</p>
</div>
<div class="paragraph">
<p>The <code>camel-cxf</code> component does not make any attempt to remove the in-band headers from the <code>MessageContentList</code>. If you require filtering of in-band headers, use <code>PAYLOAD</code> mode or plug in a CXF interceptor/JAXWS Handler to the CXF endpoint.</p>
</div>
<div class="sect3">
<h4 id="_the_message_header_relay_mechanism_in_pojo_mode"><a class="anchor" href="#_the_message_header_relay_mechanism_in_pojo_mode"></a>The Message Header Relay mechanism in POJO mode</h4>
<div class="paragraph">
<p>The Message Header Relay mechanism is part of the <code>CxfHeaderFilterStrategy</code> and is a property of <code>CxfHeaderFilterStrategy</code>.</p>
</div>
<div class="paragraph">
<p>Here is an example of how you can configure it:</p>
</div>
<div class="listingblock">
<div class="title">CxfHeaderFilterStrategy configuration:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;bean id="dropAllMessageHeadersStrategy" class="org.apache.camel.component.cxf.transport.header.CxfHeaderFilterStrategy"&gt;

    &lt;!--  Set relayHeaders to false to drop all SOAP headers --&gt;
    &lt;property name="relayHeaders" value="false"/&gt;

&lt;/bean&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>When you have configured the strategy, you can reference the <code>CxfHeaderFilterStrategy</code> in your endpoint.</p>
</div>
<div class="listingblock">
<div class="title">Referencing the <code>CxfHeaderFilterStrategy</code>:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;route&gt;
    &lt;from uri="cxf:bean:routerNoRelayEndpoint?headerFilterStrategy=#dropAllMessageHeadersStrategy"/&gt;
    &lt;to uri="cxf:bean:serviceNoRelayEndpoint?headerFilterStrategy=#dropAllMessageHeadersStrategy"/&gt;
&lt;/route&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>You can plug in your own <code>MessageHeaderFilter</code> implementations overriding or
adding additional ones to the list of relays. In order to override a
preloaded relay instance just make sure that your <code>MessageHeaderFilter</code>
implementation services the same name spaces as the one you want to override.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here is an example of configuring user-defined Message Header Filters:</p>
</div>
<div class="listingblock">
<div class="title">Message Header Filters configuration:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;bean id="customMessageFilterStrategy" class="org.apache.camel.component.cxf.transport.header.CxfHeaderFilterStrategy"&gt;
    &lt;property name="messageHeaderFilters"&gt;
        &lt;list&gt;
            &lt;!--  SoapMessageHeaderFilter is the built-in filter.  It can be removed by omitting it. --&gt;
            &lt;bean class="org.apache.camel.component.cxf.common.header.SoapMessageHeaderFilter"/&gt;

            &lt;!--  Add custom filter here --&gt;
            &lt;bean class="org.apache.camel.component.cxf.soap.headers.CustomHeaderFilter"/&gt;
        &lt;/list&gt;
    &lt;/property&gt;
&lt;/bean&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In addition to <code>relayHeaders</code>, you can configure the following properties in <code>CxfHeaderFilterStrategy</code>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>relayHeaders</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All message headers are processed by Message Header Filters.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>relayAllMessageHeaders</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All message headers are propagated (without processing by Message
Header Filters).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>allowFilterNamespaceClash</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If two filters overlap in activation namespace, the property control how
it should be handled. If the value is <code>true</code>, last one wins. If the
value is <code>false</code>, it will throw an exception.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_making_the_camel_cxf_component_use_log4j_instead_of_java_util_logging"><a class="anchor" href="#_making_the_camel_cxf_component_use_log4j_instead_of_java_util_logging"></a>Making the camel-cxf component use log4j instead of java.util.logging</h2>
<div class="sectionbody">
<div class="paragraph">
<p>CXF&#8217;s default logger is <code>java.util.logging</code>.</p>
</div>
<div class="paragraph">
<p>To change the default logger to <code>log4j</code>, proceed as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a file in the classpath, named <code>META-INF/cxf/org.apache.cxf.logger</code></p>
</li>
<li>
<p>Add a single line, with no comments, with the fully-qualified name of the class  (<code>org.apache.cxf.common.logging.Log4jLogger</code>).</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_letting_camel_cxf_response_start_with_xml_processing_instruction"><a class="anchor" href="#_letting_camel_cxf_response_start_with_xml_processing_instruction"></a>Letting camel-cxf response start with xml processing instruction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>CXF does not add the XML processing instruction <code>&lt;?xml version="1.0" encoding="utf-8"?&gt;</code>. This can cause this type of error for some SOAP clients (for example PHP):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">Error:sendSms: SoapFault exception: [Client] looks like we got no XML document in [...]</code></pre>
</div>
</div>
<div class="paragraph">
<p>To resolve this issue, you must tell <code>StaxOutInterceptor</code> to write the XML start document for you, as in this example:</p>
</div>
<div class="listingblock">
<div class="title"><a href="https://github.com/apache/camel/blob/main/components/camel-cxf/camel-cxf-soap/src/test/java/org/apache/camel/component/cxf/jaxws/WriteXmlDeclarationInterceptor.java">WriteXmlDeclarationInterceptor</a>:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class WriteXmlDeclarationInterceptor extends AbstractPhaseInterceptor&lt;SoapMessage&gt; {
    public WriteXmlDeclarationInterceptor() {
        super(Phase.PRE_STREAM);
        addBefore(StaxOutInterceptor.class.getName());
    }

    public void handleMessage(SoapMessage message) throws Fault {
        message.put("org.apache.cxf.stax.force-start-document", Boolean.TRUE);
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As an alternative you can add a message header for it as demonstrated here:</p>
</div>
<div class="listingblock">
<div class="title"><a href="https://github.com/apache/camel/blob/main/components/camel-cxf/camel-cxf-soap/src/test/java/org/apache/camel/component/cxf/jaxws/CxfConsumerTest.java#L62">CxfConsumerTest</a>:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> // set up the response context which force start document
 Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();
 map.put("org.apache.cxf.stax.force-start-document", Boolean.TRUE);
 exchange.getMessage().setHeader(Client.RESPONSE_CONTEXT, map);</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_the_data_format"><a class="anchor" href="#_configuring_the_data_format"></a>Configuring the data format</h3>
<div class="paragraph">
<p>You can use <code>cxf:properties</code> in the configuration file to set the <code>dataFormat</code> for the camel-cxf endpoint and the <code>setDefaultBus</code> properties.</p>
</div>
<div id="_tabs_4" class="openblock tabs is-sync is-loading">
<div class="title">Configuration options:</div>
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_4_java_quarkus" class="tab">
<p>Java (Quarkus)</p>
</li>
</ul>
</div>
<div id="_tabs_4_java_quarkus--panel" class="tabpanel" aria-labelledby="_tabs_4_java_quarkus">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import org.apache.camel.component.cxf.common.DataFormat;
import org.apache.camel.component.cxf.jaxws.CxfEndpoint;
import jakarta.enterprise.context.SessionScoped;
import jakarta.enterprise.inject.Produces;
import jakarta.inject.Named;

</span><span class="fold-block">...

@Produces
@SessionScoped
@Named
CxfEndpoint testEndpoint() {
    final CxfEndpoint result = new CxfEndpoint();
    result.setServiceClass(HelloService.class);
    result.setDataFormat(DataFormat.RAW);
    result.setDefaultBus(true);
    result.setAddress("/hello");
    return result;
}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
