<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Camel JBang :: Red Hat Integration</title>
    <meta name="generator" content="Antora 3.1.2">
    <link rel="stylesheet" href="../_/css/site.css">
    <script>var uiRootPath = '../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">Red Hat Integration</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="manual" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">User manual</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="getting-started.html">Getting started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="book-getting-started.html">Getting Started with Apache Camel</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="what-are-the-dependencies.html">What are the dependencies?</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Resources &amp; Guides</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="/community/books/">Books</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="building.html">Building</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-console.html">Camel Developer Console</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="camel-jbang.html">Camel JBang</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-maven-plugin.html">Camel Maven Plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-component-maven-plugin.html">Camel Component Maven Plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-report-maven-plugin.html">Camel Maven Report Plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-maven-archetypes.html">Camel Maven Archetypes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="configuring-route-startup-ordering-and-autostartup.html">Configuring route startup ordering and autostartup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="component-dsl.html">Component-dsl</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Endpoint-dsl.html">Endpoint-dsl</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="examples.html">Examples</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="graceful-shutdown.html">Graceful Shutdown</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="error-handler.html">Error handler</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="using-propertyplaceholder.html">How to use Camel property placeholders</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="testing.html">Testing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="test-infra.html">Test Infra</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="notify-builder.html">NotifyBuilder</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="advice-with.html">AdviceWith</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="rest-dsl.html">Working with REST and Rest DSL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="writing-components.html">Writing Components</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="release-guide.html">Release guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="release-guide-website.html">Adding doc versions to the website</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="improving-the-documentation.html">Improving the Documentation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="migration-and-upgrade.html">Migration and Upgrade</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-3-migration-guide.html">Camel 2.x to 3.0 Migration Guide</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camel-3x-upgrade-guide.html">Camel 3.x Upgrade Guide</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="architecture.html">Architecture</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="backlog-debugger.html">Backlog debugger</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="backlog-tracer.html">Backlog Tracer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="batch-consumer.html">Batch Consumer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bean-binding.html">Bean Binding</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bean-integration.html">Bean Integration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="browsable-endpoint.html">BrowsableEndpoint</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camelcontext.html">CamelContext</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="camelcontext-autoconfigure.html">CamelContext Auto Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="clustering.html">Clustering and Load Balancing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="component.html">Component</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="data-format.html">Data Format</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="debugger.html">Debugger</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="delay-interceptor.html">Delayer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="endpoint.html">Endpoints</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="endpoint-annotations.html">Endpoint Annotations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="exception-clause.html">Exception Clause</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="exchange-pooling.html">Exchange Pooling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="http-session-handling.html">HTTP-Session Handling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="parameter-binding-annotations.html">Parameter Binding Annotations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pojo-producing.html">POJO Producing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pojo-consuming.html">POJO Consuming</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="producertemplate.html">ProducerTemplate</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="consumertemplate.html">ConsumerTemplate</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="error-handler.html">Error Handler</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="exchange.html">Message Exchange</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="exchange-pattern.html">Exchange Pattern</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="using-exchange-pattern-annotations.html">Using Exchange pattern annotations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="expression.html">Expressions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../components/3.18.x/eips/content-enricher.html">Content Enrichment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="injector.html">Injector</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../components/3.18.x/eips/intercept.html">Intercept</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="jmx.html">JMX</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="lifecycle.html">Camel Lifecycle</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="oncompletion.html">OnCompletion</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pluggable-class-resolvers.html">Pluggable Class Resolvers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="predicate.html">Predicates</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="processor.html">Processor</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="registry.html">Registry</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="route-builder.html">RouteBuilder</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="lambda-route-builder.html">LambdaRouteBuilder</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="route-controller.html">RouteController</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="route-policy.html">RoutePolicy</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="route-configuration.html">RouteConfiguration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="route-reload.html">RouteReload</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="route-template.html">RouteTemplate</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="routes.html">Routes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="stream-caching.html">Stream caching</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="transformer.html">Transformer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="threading-model.html">Threading Model</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="tracer.html">Tracer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="type-converter.html">Type Converter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="uris.html">URIs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="uuidgenerator.html">UuidGenerator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="validator.html">Validator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="health-check.html">Health Checks</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Domain Specific Languages</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dsl.html">Camel Domain Specific Language</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="languages.html">Languages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="java-dsl.html">Java DSL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="spring.html">Spring support</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="faq/index.html">FAQ</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/can-i-get-commercial-support.html">Can I get commercial support?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="/community/support/">How can I get help?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-can-i-get-the-source-code.html">How can I get the source code?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-does-camel-work.html">How does Camel work?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-does-the-website-work.html">How does the website work?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-become-a-committer.html">How do I become a committer?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-compile-the-code.html">How do I compile the code?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-edit-the-website.html">How do I edit the website?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/running-camel-standalone.html">Running Camel standalone</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/what-is-a-router.html">What is a router?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/what-is-camel.html">What is Camel?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/what-is-the-license.html">What is the license?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="languages.html">What languages are supported?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/what-platforms-are-supported.html">What platforms are supported?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-the-name-camel.html">Why the name Camel?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-specify-which-method-to-use-when-using-beans-in-routes.html">How do I specify which method to use when using beans in routes?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-can-i-create-a-custom-component-or-endpoint.html">How can I create a custom component or endpoint?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-can-i-get-the-remote-connection-ip-address-from-the-camel-cxf-consumer-.html">How can I get the remote connection IP address from the camel-cxf consumer ?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-can-i-stop-a-route-from-a-route.html">How can I stop a route from a route?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-can-webservice-clients-see-remote-faults-with-stacktraces-when-using-camel-cxf.html">How can webservice clients see remote faults with stacktraces when using camel-cxf?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-does-camel-look-up-beans-and-endpoints.html">How does Camel look up beans and endpoints?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-change-the-logging.html">How do I change the logging?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-configure-endpoints.html">How do I configure endpoints?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-configure-password-options-on-camel-endpoints-without-the-value-being-encoded.html">How do I configure password options on Camel endpoints without the value being encoded?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-configure-the-default-maximum-cache-size-for-producercache-or-producertemplate.html">How do I configure the default maximum cache size for ProducerCache or ProducerTemplate?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-configure-the-maximum-endpoint-cache-size-for-camelcontext.html">How do I configure the maximum endpoint cache size for CamelContext?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-debug-my-route.html">How do I debug my route?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-disable-jmx.html">How do I disable JMX?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-enable-streams-when-debug-logging-messages-in-camel.html">How do I enable streams when debug logging messages in Camel?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-handle-failures-when-consuming-for-example-from-a-ftp-server.html">How do I handle failures when consuming for example from a FTP server?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-import-rests-from-other-xml-files.html">How do I import rests from other XML files?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-import-routes-from-other-xml-files.html">How do I import routes from other XML files?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-let-jetty-match-wildcards.html">How do I let Jetty match wildcards?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-name-my-routes.html">How do I name my routes?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-restart-camelcontext.html">How do I restart CamelContext?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-retrieve-the-thrown-exception-during-processing-an-exchange.html">How do I retrieve the thrown Exception during processing an Exchange?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-retry-failed-messages-forever.html">How do I retry failed messages forever?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-retry-processing-a-message-from-a-certain-point-back-or-an-entire-route.html">How do I retry processing a message from a certain point back or an entire route?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-reuse-the-contexttestsupport-class-in-my-unit-tests.html">How do I reuse the ContextTestSupport class in my unit tests?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-set-the-max-chars-when-debug-logging-messages-in-camel.html">How do I set the max chars when debug logging messages in Camel?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-use-uris-with-parameters-in-xml.html">How do I use URIs with parameters in XML?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-write-a-custom-processor-which-sends-multiple-messages.html">How do I write a custom Processor which sends multiple messages?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-should-i-invoke-my-pojos-or-spring-services.html">How should I invoke my POJOs or Spring Services?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-to-avoid-importing-bunch-of-cxf-packages-when-start-up-the-camel-cxf-endpoint-from-osgi-platform-.html">How to avoid importing bunch of cxf packages when start up the camel-cxf endpoint from OSGi platform?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-to-avoid-sending-some-or-all-message-headers.html">How to avoid sending some or all message headers?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-to-remove-the-http-protocol-headers-in-the-camel-message.html">How to remove the http protocol headers in the camel message?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-to-send-the-same-message-to-multiple-endpoints.html">How to send the same message to multiple endpoints?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-to-switch-the-cxf-consumer-between-http-and-https-without-touching-the-spring-configuration.html">How to switch the CXF consumer between HTTP and HTTPS without touching the Spring configuration?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-to-use-a-dynamic-uri-in-to.html">How to use a dynamic URI in to()?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/is-there-an-ide.html">Is there an IDE?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/using-getin-or-getout-methods-on-exchange.html">Using getIn or getOut methods on Exchange</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-cant-i-use-sign-in-my-password.html">Why can&#8217;t I use + sign in my password?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-can-i-not-use-when-or-otherwise-in-a-java-camel-route.html">Why can I not use when or otherwise in a Java Camel route?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-does-ftp-component-not-download-any-files.html">Why does FTP component not download any files?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-does-my-file-consumer-not-pick-up-the-file-and-how-do-i-let-the-file-consumer-use-the-camel-error-handler.html">Why does my file consumer not pick up the file, and how do I let the file consumer use the Camel error handler?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-does-useoriginalmessage-with-error-handler-not-work-as-expected.html">Why does useOriginalMessage with error handler not work as expected?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-do-my-message-lose-its-headers-during-routing.html">Why do my message lose its headers during routing?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-is-my-message-body-empty.html">Why is my message body empty?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-is-my-processor-not-showing-up-in-jconsole.html">Why is my processor not showing up in JConsole?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-is-the-exception-null-when-i-use-onexception.html">Why is the exception null when I use onException?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-use-multiple-camelcontext.html">Why use multiple CamelContext?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-enable-debug-logging.html">How do I enable debug logging?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-use-log4j.html">How do I use log4j?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-make-my-jms-endpoint-transactional.html">How Do I Make My JMS Endpoint Transactional?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-i-set-the-mep-when-interacting-with-jbi.html">How do I set the MEP when interacting with JBI?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-the-direct-event-seda-and-vm-endpoints-compare.html">How do the direct, event, seda and vm endpoints compare?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/how-do-the-timer-and-quartz-endpoints-compare.html">How do the Timer and Quartz endpoints compare?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-does-my-jms-route-only-consume-one-message-at-once.html">Why does my JMS route only consume one message at once?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/exception-beandefinitionstoreexception.html">Exception - BeanDefinitionStoreException</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/exception-orgapachecamelnosuchendpointexception.html">Exception - org.apache.camel.NoSuchEndpointException</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/exception-orgxmlsaxsaxparseexception.html">Exception - org.xml.sax.SAXParseException</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/memory-leak-when-adding-and-removing-routes-at-runtime.html">Memory leak when adding and removing routes at runtime</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-does-camel-use-too-many-threads-with-producertemplate.html">Why does Camel use too many threads with ProducerTemplate?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faq/why-does-maven-not-download-dependencies.html">Why does maven not download dependencies?</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><strong>Reference</strong></span>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../components/3.18.x/index.html">Components</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../components/3.18.x/dataformats/index.html">Data Formats</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../components/3.18.x/languages/index.html">Languages</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../components/3.18.x/eips/enterprise-integration-patterns.html">EIPs</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">User manual</span>
    <span class="version">default</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../components/3.18.x/index.html">Camel Components</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../components/3.18.x/index.html">3.18.x (LTS)</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="index.html">User manual</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">default</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">User manual</a></li>
    <li>Resources &amp; Guides</li>
    <li><a href="camel-jbang.html">Camel JBang</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///home/gforde/data/ACCR/3.18.x/camel/docs/user-manual/modules/ROOT/pages/camel-jbang.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Camel JBang</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>A JBang-based Camel app for easily running Camel routes.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation"><a class="anchor" href="#_installation"></a>Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>First you must install <a href="https://www.jbang.dev/">JBang</a> which is used for launching Camel.
See instructions on <a href="https://www.jbang.dev/download/">JBang</a> how to download and install.</p>
</div>
<div class="paragraph">
<p>After JBang is installed you can verify JBang is working by executing the following command from a command shell:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">jbang version</code></pre>
</div>
</div>
<div class="paragraph">
<p>Which should output the version of JBang.</p>
</div>
<div class="paragraph">
<p>To make it easier to use Camel JBang then install the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">jbang app install camel@apache/camel</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will install Apache Camel as the <code>camel</code> command within JBang, meaning that you can run Camel from the command line
by just executing <code>camel</code> (see more next).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_camel_jbang"><a class="anchor" href="#_using_camel_jbang"></a>Using Camel JBang</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Camel JBang supports multiple commands. Running the command below, will print all of them:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel --help</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The first time you run this command, it may cause dependencies to be cached, therefore taking a few extra seconds to run.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>All the commands support the <code>--help</code> and will display the appropriate help if that flag is provided.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_and_running_camel_routes"><a class="anchor" href="#_creating_and_running_camel_routes"></a>Creating and running Camel routes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can create a new basic routes with the <code>init</code> command.</p>
</div>
<div class="paragraph">
<p>For example to create an XML route you do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel init cheese.xml</code></pre>
</div>
</div>
<div class="paragraph">
<p>Which creates the file <code>cheese.xml</code> (in the current directory) with a sample route.</p>
</div>
<div class="paragraph">
<p>To run the file, you simply do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run cheese.xml</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You can create and run any of the supported <a href="dsl.html" class="xref page">DSLs</a> in Camel such as YAML, XML, Java, Groovy.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To create a new .java route, you simply do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel init foo.java</code></pre>
</div>
</div>
<div class="paragraph">
<p>When using the init command then Camel will by default create the file in the current directory. However, you can use
the <code>--directory</code> option to create the file in the specified directory. For example to create in a folder
named <em>foobar</em> you can do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel init foo.java --directory=foobar</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
When using <code>--directory</code> then Camel will automatically clean this directory if already exists.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_running_routes_from_multiple_files"><a class="anchor" href="#_running_routes_from_multiple_files"></a>Running Routes from multiple files</h3>
<div class="paragraph">
<p>You can run more than 1 file, for example to run two YAML files you can do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run one.yaml two.yaml</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also mix different <a href="dsl.html" class="xref page">DSLs</a> such as yaml and Java:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run one.yaml hello.java</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also use wildcards (i.e. <code>*</code>) to match multiple files, such as running all the yaml files:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run *.yaml</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or you can run all files starting with foo*</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run foo*</code></pre>
</div>
</div>
<div class="paragraph">
<p>And to run everything</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run *</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The run goal can also detect files that are <code>properties</code>, such as <code>application.properties</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_dev_mode_with_live_reload"><a class="anchor" href="#_dev_mode_with_live_reload"></a>Dev mode with live reload</h3>
<div class="paragraph">
<p>You can enable dev mode that comes with live reload of the route(s) when the source file is updated (saved),
using the <code>--dev</code> options as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run foo.yaml --dev</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then while the Camel application is running, you can update the YAML route and update when saving.</p>
</div>
<div class="paragraph">
<p>This works for all DLS even java, so you can do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run hello.java --dev</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The live reload is meant for development purposes, and if you encounter problems with reloading
such as JVM class loading issues, then you may need to restart the application.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_developer_console"><a class="anchor" href="#_developer_console"></a>Developer Console</h3>
<div class="paragraph">
<p>You can enable the developer console, which presents a variety of information to the developer.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run hello.java --console</code></pre>
</div>
</div>
<div class="paragraph">
<p>The console is then accessible from a web browser at: <a href="http://localhost:8080/q/dev" class="bare">http://localhost:8080/q/dev</a> (by default).
The link is also shown in the log when Camel is starting up.</p>
</div>
<div class="paragraph">
<p>The console can give you insights into your running Camel application, such as reporting the top
routes that takes the longest time to process messages. You can then drill down to pin-point, exactly
which individual EIPs in these routes are the slowest.</p>
</div>
<div class="paragraph">
<p>The developer console can also output the data in JSon format, which for example can be used by 3rd-party tooling
to scrape the information.</p>
</div>
<div class="paragraph">
<p>For example to output the top routes via curl, you can execute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl -s -H "Accept: application/json"  http://0.0.0.0:8080/q/dev/top/</code></pre>
</div>
</div>
<div class="paragraph">
<p>And if you have <code>jq</code> installed which can format and output the JSon data in colour, then do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl -s -H "Accept: application/json"  http://0.0.0.0:8080/q/dev/top/ | jq</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_using_profiles"><a class="anchor" href="#_using_profiles"></a>Using profiles</h3>
<div class="paragraph">
<p>Camel JBang have the concept of profiles. A <em>profile</em> is essentially a name (id) that refers
to which configuration to automatic load with Camel JBang. The default profile is named <code>application</code>
which is a (smart default) to let Camel JBang automatic load <code>application.properties</code> (if present).</p>
</div>
<div class="paragraph">
<p>This means that creating profiles matching to a properties file with the same name.</p>
</div>
<div class="paragraph">
<p>For example having a profile named <code>local</code>, means that Camel JBang will load <code>local.properties</code> instead
of <code>application.properties</code>.</p>
</div>
<div class="paragraph">
<p>To use a profile, you specify as command line option <code>--profile</code> such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run hello.java --profile=local</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can only specify one profile name, i.e. <code>--profile=local,two</code> is not valid.</p>
</div>
<div class="paragraph">
<p>In the <code>properties</code> files you can configure all
the configurations from <a href="../components/3.18.x/others/main.html" class="xref page">Camel Main</a>.</p>
</div>
<div class="paragraph">
<p>For example to turn off <a href="stream-caching.html" class="xref page">Stream Caching</a> and enable log masking you can specify:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">camel.main.streamCaching=false
camel.main.logMask=true</code></pre>
</div>
</div>
<div class="paragraph">
<p>And you can also configure Camel components such as camel-kafka to declare the URL to the brokers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">camel.component.kafka.brokers=broker1:9092,broker2:9092,broker3:9092</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Keys starting with <code>camel.jbang</code> are reserved keys that are used by Camel JBang internally,
and as well allow for pre-configuring arguments for Camel JBang commands.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_downloading_jars_over_the_internet"><a class="anchor" href="#_downloading_jars_over_the_internet"></a>Downloading JARs over the internet</h3>
<div class="paragraph">
<p>By default, Camel JBang will automatically resolve dependencies needed to run Camel, which is done
by JBang and Camel respectively. Camel itself detects at runtime if a component has a need for JARs that
are not currently available on the classpath, and can then automatic download the JARs (incl transitive).</p>
</div>
<div class="paragraph">
<p>Camel will download these JARs in the following order:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>from local disk in <code>~/.m2/repository</code></p>
</li>
<li>
<p>from internet in Maven Central</p>
</li>
<li>
<p>from internet in custom 3rd-party Maven repositories</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If you do not want Camel JBang to download over the internet, you can turn this off with <code>--download</code>, as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run foo.java --download=false</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_adding_custom_jars"><a class="anchor" href="#_adding_custom_jars"></a>Adding custom JARs</h3>
<div class="paragraph">
<p>Camel JBang will automatically detect dependencies for Camel components, languages, data formats, etc. that
from its own release. This means you often do not have to specify which JARs to use.</p>
</div>
<div class="paragraph">
<p>However, if you need to add 3rd-party custom JARs then you can specify these with <code>--deps</code> as CLI argument in Maven
GAV syntax (<code>groupId:artifactId:version</code>), such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run foo.java --deps=com.foo:acme:1.0</code></pre>
</div>
</div>
<div class="paragraph">
<p>In case you need to explicit add a Camel dependency you can use a shorthand syntax (starting with <code>camel:</code> or <code>camel-</code>)
such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run foo.java --deps=camel-saxon</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can specify multiple dependencies separated by comma:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run foo.java --deps=camel-saxon,com.foo:acme:1.0</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_using_3rd_party_maven_repositories"><a class="anchor" href="#_using_3rd_party_maven_repositories"></a>Using 3rd-party Maven repositories</h3>
<div class="paragraph">
<p>Camel JBang will download from local repository first, and then online from Maven Central.
To be able to download from 3rd-party Maven repositories then you need to specify this as CLI argument,
]or in <code>application.properties</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run foo.java --repos=https://packages.atlassian.com/maven-external</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Multiple repositories can be separated by comma
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The configuration for the 3rd-party Maven repositories can also be configured in <code>application.properties</code>
with the key <code>camel.jbang.repos</code> as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">camel.jbang.repos=https://packages.atlassian.com/maven-external</code></pre>
</div>
</div>
<div class="paragraph">
<p>And when running Camel then <code>application.properties</code> is automatically loaded:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run foo.java</code></pre>
</div>
</div>
<div class="paragraph">
<p>However, you can also explicit specify the properties file to use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run foo.java application.properties</code></pre>
</div>
</div>
<div class="paragraph">
<p>And even better if you specify this as a profile:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run foo.java --profile=application</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where the profile id is the name of the properties file.</p>
</div>
</div>
<div class="sect2">
<h3 id="_running_routes_hosted_on_github"><a class="anchor" href="#_running_routes_hosted_on_github"></a>Running routes hosted on GitHub</h3>
<div class="paragraph">
<p>You can run a route that is hosted on GitHub using Camels <a href="#components:others:resourceresolver-github.adoc" class="xref unresolved">github</a> resource loader.</p>
</div>
<div class="paragraph">
<p>For example to run one of the Camel K examples you can do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run github:apache:camel-k:examples/languages/routes.yaml</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also use the <code>https</code> URL for GitHub. For example, you can browse the examples from a web-browser and
then copy the URL from the browser window and run the example with Camel JBang:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run https://github.com/apache/camel-k/blob/main/examples/languages/routes.yaml</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also use wildcards (i.e. <code>*</code>) to match multiple files, such as running all the groovy files:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run https://github.com/apache/camel-k/tree/main/examples/languages/*.groovy</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or you can run all files starting with rou*</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run https://github.com/apache/camel-k/tree/main/examples/languages/rou*</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_running_routes_from_github_gists"><a class="anchor" href="#_running_routes_from_github_gists"></a>Running routes from GitHub gists</h4>
<div class="paragraph">
<p>Using gists from GitHub is a quick way to share small Camel routes that you can easily run.</p>
</div>
<div class="paragraph">
<p>For example to run a gist you simply do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run https://gist.github.com/davsclaus/477ddff5cdeb1ae03619aa544ce47e92</code></pre>
</div>
</div>
<div class="paragraph">
<p>A gist can contain one or more files, and Camel JBang will gather all relevant files, so a gist
can contain multiple routes, properties files, Java beans, etc.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_downloading_routes_hosted_on_github"><a class="anchor" href="#_downloading_routes_hosted_on_github"></a>Downloading routes hosted on GitHub</h3>
<div class="paragraph">
<p>We have made it easy for Camel JBang to download existing examples from GitHub to local disk,
which allows for modifying the example and to run locally.</p>
</div>
<div class="paragraph">
<p>All you need to do is to copy the https link from the web browser.
For example, you can download the <em>dependency injection</em> example by:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel init https://github.com/apache/camel-kamelets-examples/tree/main/jbang/dependency-injection</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then the files (not sub folders) are downloaded to the current directory.
The example can then be run locally with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run *</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also download to a new folder using the <code>--directory</code> option, for example to download to a folder named <em>myproject</em>,
you would do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel init https://github.com/apache/camel-kamelets-examples/tree/main/jbang/dependency-injection --directory=myproject</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
When using <code>--directory</code> then Camel will automatically clean this directory if already exists.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can also run in dev mode, to hot-deploy on source code changes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run * --dev</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also download a single file, such as one of the Camel K examples:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel init https://github.com/apache/camel-k/blob/main/examples/languages/simple.groovy</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is a groovy route, which you can run with (or use <code>*</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run simple.groovy</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_downloading_routes_form_github_gists"><a class="anchor" href="#_downloading_routes_form_github_gists"></a>Downloading routes form GitHub gists</h4>
<div class="paragraph">
<p>You can also download files from gists easily as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel init https://gist.github.com/davsclaus/477ddff5cdeb1ae03619aa544ce47e92</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will then download the files to local disk, which you can run afterwards:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run *</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also download to a new folder using the <code>--directory</code> option, for example to download to a folder named <em>foobar</em>,
you would do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel init https://gist.github.com/davsclaus/477ddff5cdeb1ae03619aa544ce47e92 --directory=foobar</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
When using <code>--directory</code> then Camel will automatically clean this directory if already exists.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_using_a_specific_camel_version"><a class="anchor" href="#_using_a_specific_camel_version"></a>Using a specific Camel version</h3>
<div class="paragraph">
<p>You can specify which Camel version to run as shown:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">jbang run -Dcamel.jbang.version=3.17.0 camel@apache/camel [command]</code></pre>
</div>
</div>
<div class="paragraph">
<p>And you can also try bleeding edge development by using SNAPSHOT such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">jbang run -Dcamel.jbang.version=3.19.0-SNAPSHOT camel@apache/camel [command]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_running_camel_k_integrations_or_bindings"><a class="anchor" href="#_running_camel_k_integrations_or_bindings"></a>Running Camel K integrations or bindings</h3>
<div class="paragraph">
<p>Camel also supports running Camel K integrations and binding files, which are in CRD format (Kubernetes Custom Resource Definitions).</p>
</div>
<div class="paragraph">
<p>For example a kamelet binding file named <code>joke.yaml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">#!/usr/bin/env jbang camel@apache/camel run
apiVersion: camel.apache.org/v1alpha1
kind: KameletBinding
metadata:
  name: joke
spec:
  source:
    ref:
      kind: Kamelet
      apiVersion: camel.apache.org/v1
      name: chuck-norris-source
    properties:
      period: 2000
  sink:
    ref:
      kind: Kamelet
      apiVersion: camel.apache.org/v1
      name: log-sink
    properties:
      show-headers: false</code></pre>
</div>
</div>
<div class="paragraph">
<p>Can be run with camel:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run joke.yaml</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_run_from_clipboard"><a class="anchor" href="#_run_from_clipboard"></a>Run from clipboard</h3>
<div class="paragraph">
<p>You can also run Camel routes directly from the OS clipboard. This allows to copy some code,
and then quickly run this.</p>
</div>
<div class="paragraph">
<p>The syntax is</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run clipboard.&lt;extension&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where <code>&lt;extension&gt;</code> is what kind of file the content of the clipboard is, such as <code>java</code>, <code>xml</code>, or <code>yaml</code> etc.</p>
</div>
<div class="paragraph">
<p>For example. you can copy this to your clipboard and then run it afterwards:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;route&gt;
  &lt;from uri="timer:foo"/&gt;
  &lt;log message="Hello World"/&gt;
&lt;/route&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run clipboard.xml</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_scripting_from_terminal_using_pipes"><a class="anchor" href="#_scripting_from_terminal_using_pipes"></a>Scripting from terminal using pipes</h3>
<div class="paragraph">
<p>You can also execute a Camel JBang file as a script that can be used for terminal scripting with pipes and filters.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Every time the script is executed a JVM is started with Camel. This is not very fast or low on memory usage,
so use Camel JBang terminal scripting where using Camel makes sense. For example to use the
many Camel components or Kamelets to more easily send or receive data from disparate IT systems.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This requires to add the following line in top of the file, for example as in the <code>upper.yaml</code> file below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">///usr/bin/env jbang --quiet camel@apache/camel pipe "$0" "$@" ; exit $?

# Will upper-case the input
- from:
    uri: "stream:in"
    steps:
      - setBody:
          simple: "${body.toUpperCase()}"
      - to: "stream:out"</code></pre>
</div>
</div>
<div class="paragraph">
<p>To be able to execute this as a script, you need to set execute file permission:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">chmod +x upper.yaml</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then you can then execute this as a script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">echo "Hello\nWorld" | ./upper.yaml</code></pre>
</div>
</div>
<div class="paragraph">
<p>Which should output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">HELLO
WORLD</code></pre>
</div>
</div>
<div class="paragraph">
<p>Logging can be turned on using <code>--logging=true</code> which then logs to <code>.camel-jbang/camel-pipe.log</code> file.
The name of the logging file cannot be configured.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">echo "Hello\nWorld" | ./upper.yaml --logging=true</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_using_streamin_with_line_vs_raw_mode"><a class="anchor" href="#_using_streamin_with_line_vs_raw_mode"></a>Using stream:in with line vs raw mode</h4>
<div class="paragraph">
<p>When using <code>stream:in</code> to read data from <em>System in</em> then the <a href="#components::stream-component.adoc" class="xref unresolved">Stream component</a>
works in two modes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>line mode (default) - reads input as single lines (separated by line breaks).
Message body is a <code>String</code>.</p>
</li>
<li>
<p>raw mode - reads the entire stream until <em>end of stream</em>.
Message body is a <code>byte[]</code>.</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The default mode is due to historically how the stream component was created.
Therefore, you may want to set <code>stream:in?readLine=false</code> to use raw mode.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_running_local_kamelets"><a class="anchor" href="#_running_local_kamelets"></a>Running local Kamelets</h3>
<div class="paragraph">
<p>You can also use Camel JBang to try local Kamelets, without the need to publish them on GitHub or package them in a jar.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run --local-kamelet-dir=/path/to/local/kamelets earthquake.yaml</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_using_platform_http_component"><a class="anchor" href="#_using_platform_http_component"></a>Using platform-http component</h3>
<div class="paragraph">
<p>When a route is started from <code>platform-http</code> then Camel JBang will automatically include a VertX HTTP server
running on port 8080. For example the following route in a file named <code>server.yaml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">- from:
    uri: "platform-http:/hello"
    steps:
      - set-body:
          constant: "Hello World"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Can be run with</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel run server.yaml</code></pre>
</div>
</div>
<div class="paragraph">
<p>And you can call the HTTP service with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ curl http://localhost:8080/hello
Hello World%</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_using_java_beans_and_processors"><a class="anchor" href="#_using_java_beans_and_processors"></a>Using Java beans and processors</h3>
<div class="paragraph">
<p>There is basic support for including regular Java source files together with Camel routes,
and let Camel JBang runtime compile the Java source. This means you can include smaller utility
classes, POJOs, Camel Processors and whatnot that the application needs.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The Java source files cannot use package names. This may change in the future.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_dependency_injection_in_java_classes"><a class="anchor" href="#_dependency_injection_in_java_classes"></a>Dependency Injection in Java classes</h3>
<div class="paragraph">
<p>When running Camel applications with camel-jbang, then the runtime is <code>camel-main</code> based. This means
there is no Spring Boot, or Quarkus available. However, we have added support for using annotation
based dependency injection in Java classes.</p>
</div>
<div class="sect3">
<h4 id="_using_camel_dependency_injection"><a class="anchor" href="#_using_camel_dependency_injection"></a>Using Camel dependency injection</h4>
<div class="paragraph">
<p>You can use the following Camel annotations (they work on all runtimes):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>@org.apache.camel.BindToRegistry</code> on class level to create an instance of the class and register in the <a href="registry.html" class="xref page">Registry</a>.</p>
</li>
<li>
<p><code>@org.apache.camel.BeanInject</code> to dependency inject a bean on a class field.</p>
</li>
<li>
<p><code>@org.apache.camel.PropertyInject</code> to inject a <a href="using-propertyplaceholder.html" class="xref page">property placeholder</a>. Such as a property defined in <code>application.properties</code>.</p>
</li>
<li>
<p><code>@org.apache.camel.BindToRegistry</code> on a method to create a bean by invoking the method.</p>
</li>
<li>
<p><code>@org.apache.camel.Converter</code> on class level to auto-register the <a href="type-converter.html" class="xref page">type converters</a> from the class.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_using_spring_boot_dependency_injection"><a class="anchor" href="#_using_spring_boot_dependency_injection"></a>Using Spring Boot dependency injection</h4>
<div class="paragraph">
<p>You can use the following Spring Boot annotations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>@org.springframework.stereotype.Component</code> or <code>@org.springframework.stereotype.Service</code> on class level to create an instance of the class and register in the <a href="registry.html" class="xref page">Registry</a>.</p>
</li>
<li>
<p><code>@org.springframework.beans.factory.annotation.Autowired</code> to dependency inject a bean on a class field. <code>@org.springframework.beans.factory.annotation.Qualifier</code> can be used to specify the bean id.</p>
</li>
<li>
<p><code>@org.springframework.beans.factory.annotation.Value</code> to inject a <a href="using-propertyplaceholder.html" class="xref page">property placeholder</a>. Such as a property defined in <code>application.properties</code>.</p>
</li>
<li>
<p><code>@org.springframework.context.annotation.Bean</code> on a method to create a bean by invoking the method.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_using_quarkus_injection"><a class="anchor" href="#_using_quarkus_injection"></a>Using Quarkus injection</h4>
<div class="paragraph">
<p>You can use the following Quarkus annotations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>@javax.enterprise.context.ApplicationScoped</code> or <code>@javax.inject.Singleton</code> on class level to create an instance of the class and register in the <a href="registry.html" class="xref page">Registry</a>. <code>@javax.inject.Named</code> can be used to specify the bean id.</p>
</li>
<li>
<p><code>@javax.inject.Inject</code> to dependency inject a bean on a class field. <code>@javax.inject.Named</code> can be used to specify the bean id.</p>
</li>
<li>
<p><code>@org.eclipse.microprofile.config.inject.ConfigProperty</code> to inject a <a href="using-propertyplaceholder.html" class="xref page">property placeholder</a>. Such as a property defined in <code>application.properties</code>.</p>
</li>
<li>
<p><code>@javax.enterprise.inject.Produces</code> on a method to create a bean by invoking the method. <code>@javax.inject.Named</code> can be used to specify the bean id.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_debugging"><a class="anchor" href="#_debugging"></a>Debugging</h3>
<div class="sect3">
<h4 id="_java_debugging"><a class="anchor" href="#_java_debugging"></a>Java debugging</h4>
<div class="paragraph">
<p>You can debug both Camel JBang and your integration scripts by making use of the <code>--debug</code> flag provided by JBang:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel --debug run /path/to/integration.java
[jbang] Building jar...
Listening for transport dt_socket at address: 4004</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see the default listening port is 4004 but can be configured as described in <a href="https://www.jbang.dev/documentation/guide/latest/debugging.html">JBang Debugging</a>.</p>
</div>
<div class="paragraph">
<p>This is a standard Java debug socket. You can then use the IDE of your choice. For instance, see the generic documentation for <a href="https://www.jetbrains.com/help/idea/attaching-to-local-process.html#create-rc">IntelliJ</a>, <a href="https://code.visualstudio.com/docs/java/java-debugging#_attach">VS Code</a> and <a href="https://www.vogella.com/tutorials/EclipseDebugging/article.html#remote-debugging">Eclipse Desktop</a>. You will surely want to add <code>Processor</code> to be able to put breakpoints hit during route execution (as opposed to route definition creation).</p>
</div>
</div>
<div class="sect3">
<h4 id="_camel_debugging"><a class="anchor" href="#_camel_debugging"></a>Camel debugging</h4>
<div class="paragraph">
<p>The Camel debugger is available by default (the <code>camel-debug</code> component is automatically added to the classpath). By default, it can be reached through JMX at the URL <code>service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi/camel</code>.</p>
</div>
<div class="paragraph">
<p>You can then use the Integrated Development Environment (IDE) of your choice. For instance <a href="https://plugins.jetbrains.com/plugin/9371-apache-camel">IntelliJ</a>, <a href="https://marketplace.visualstudio.com/items?itemName=redhat.vscode-debug-adapter-apache-camel">VS Code</a> or <a href="https://marketplace.eclipse.org/content/textual-debugging-apache-camel">Eclipse Desktop</a>.</p>
</div>
<div class="paragraph">
<p>A specific how-to is available for VS Code, see this <a href="https://youtu.be/owNhWxf42qk">video</a> or this /blog/2022/05/start-camel-quarkus-application-with-camel-textual-debug-in-vscode/[blogpost].</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_open_api"><a class="anchor" href="#_open_api"></a>Open API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Camel JBang allows to quickly expose an Open API service using <em>contract first</em> approach,
where you have an existing OpenAPI specification file.</p>
</div>
<div class="paragraph">
<p>Then Camel JBang is able to bridge each API endpoints from the OpenAPI specification to
a Camel route with the naming convention <code>direct:&lt;operationId&gt;</code>.</p>
</div>
<div class="paragraph">
<p>This make it quick to implement a Camel route for a given operation.</p>
</div>
<div class="paragraph">
<p>See the <a href="https://github.com/apache/camel-kamelets-examples/tree/main/jbang/open-api">open-api example</a> for more details.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_projects"><a class="anchor" href="#_creating_projects"></a>Creating Projects</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can <em>export</em> your Camel JBang application to a traditional Java based project such as Spring Boot or Quarkus.</p>
</div>
<div class="paragraph">
<p>You may want to do this after you have built a prototype using Camel JBang, and are in need
of a traditional Java based project with more need for Java coding, or wanting to use the powerful
runtimes of Spring Boot, Quarkus or vanilla Camel Main.</p>
</div>
<div class="sect2">
<h3 id="_exporting_to_camel_spring_boot"><a class="anchor" href="#_exporting_to_camel_spring_boot"></a>Exporting to Camel Spring Boot</h3>
<div class="paragraph">
<p>The command <code>export --runtime=spring-boot</code> will export your current Camel JBang file(s) to a Maven based
Spring Boot project with files organized in <code>src/main/</code> folder structure.</p>
</div>
<div class="paragraph">
<p>For example to export to Spring Boot using the Maven groupId <em>com.foo</em> and the artifactId <em>acme</em>
and with version <em>1.0-SNAPSHOT</em> you simply execute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel export --runtime=spring-boot --gav=com.foo:acme:1.0-SNAPSHOT</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This will export to the <em>current</em> directory, meaning that files are moved into the needed folder structure.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To export to another directly (copies the files) you execute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel export --runtime=spring-boot --gav=com.foo:acme:1.0-SNAPSHOT --dir=../myproject</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
See the possible options by running: <code>camel export --help</code> for more details.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_exporting_to_camel_quarkus"><a class="anchor" href="#_exporting_to_camel_quarkus"></a>Exporting to Camel Quarkus</h3>
<div class="paragraph">
<p>The command <code>export --runtime=quarkus</code> will export your current Camel JBang file(s) to a Maven based
Quarkus project with files organized in <code>src/main/</code> folder structure.</p>
</div>
<div class="paragraph">
<p>For example to export to Quarkus using the Maven groupId <em>com.foo</em> and the artifactId <em>acme</em>
and with version <em>1.0-SNAPSHOT</em> you simply execute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel export --runtime=quarkus --gav=com.foo:acme:1.0-SNAPSHOT</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This will export to the <em>current</em> directory, meaning that files are moved into the needed folder structure.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To export to another directly (copies the files) you execute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel export --runtime=quarkus --gav=com.foo:acme:1.0-SNAPSHOT --dir=../myproject</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
See the possible options by running: <code>camel export --help</code> for more details.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_exporting_to_camel_main"><a class="anchor" href="#_exporting_to_camel_main"></a>Exporting to Camel Main</h3>
<div class="paragraph">
<p>The command <code>export --runtime=camel-main</code> will export your current Camel JBang file(s) to a Maven based
vanilla Camel Main project with files organized in <code>src/main/</code> folder structure.</p>
</div>
<div class="paragraph">
<p>For example to export to Camel Main using the Maven groupId <em>com.foo</em> and the artifactId <em>acme</em>
and with version <em>1.0-SNAPSHOT</em> you simply execute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel export --runtime=camel-main --gav=com.foo:acme:1.0-SNAPSHOT</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This will export to the <em>current</em> directory, meaning that files are moved into the needed folder structure.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To export to another directly (copies the files) you execute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel export --runtime=camel-main --gav=com.foo:acme:1.0-SNAPSHOT --dir=../myproject</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
See the possible options by running: <code>camel export --help</code> for more details.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_exporting_with_jmx_management_included"><a class="anchor" href="#_exporting_with_jmx_management_included"></a>Exporting with JMX management included</h3>
<div class="paragraph">
<p>Usually when exporting to Spring Boot, Quarkus or Camel Main, then JMX management is not included out of the box.
To include JMX, you need to add <code>camel:management</code> in the <code>--deps</code> option, as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">camel export --runtime=quarkus --gav=com.foo:acme:1.0-SNAPSHOT --deps=camel:management --dir=../myproject</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_troubleshooting"><a class="anchor" href="#_troubleshooting"></a>Troubleshooting</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When using <a href="https://www.jbang.dev/">JBang</a> then JBang stores state in <code>~/.jbang</code> directory.
This is also the location where JBang stores downloaded JARs.</p>
</div>
<div class="paragraph">
<p>Camel JBang also downloads needed dependencies while running. However, these dependencies
are downloaded to your local Maven repository <code>~/.m2</code>.</p>
</div>
<div class="paragraph">
<p>So if you find problems with running Camel JBang using what is seems like an outdated JAR, then you can
try to delete these directories, or parts of it.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../_/js/site.js" data-ui-root-path="../_"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
