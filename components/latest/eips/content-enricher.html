<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Content Enricher :: Red Hat Integration</title>
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">Red Hat Integration</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="components" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Camel Components</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../index.html">Components</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../aws-summary.html">AWS</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../aws2-ddb-component.html">AWS DynamoDB</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../aws2-kinesis-component.html">AWS Kinesis</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../aws2-lambda-component.html">AWS Lambda</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../aws2-s3-component.html">AWS S3 Storage Service</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../aws2-sns-component.html">AWS Simple Notification System (SNS)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../aws2-sqs-component.html">AWS Simple Queue Service (SQS)</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../bean-component.html">Bean</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../direct-component.html">Direct</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../elasticsearch-rest-component.html">Elasticsearch Rest</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../file-component.html">File</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ftp-component.html">FTP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../http-component.html">HTTP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../jira-component.html">Jira</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../jms-component.html">JMS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../kafka-component.html">Kafka</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../kamelet-component.html">Kamelet</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../log-component.html">Log</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../microprofile-health.html">Microprofile Health</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../microprofile-metrics-component.html">MicroProfile Metrics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../mllp-component.html">MLLP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../mock-component.html">Mock</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../mongodb-component.html">MongoDB</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../netty-component.html">Netty</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../platform-http-component.html">Platform HTTP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../properties-component.html">Properties</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../rest-component.html">REST</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../salesforce-component.html">Salesforce</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../seda-component.html">SEDA</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../sql-component.html">SQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../timer-component.html">Timer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../xquery-component.html">XQuery</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../dataformats/index.html">Data Formats</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../dataformats/avro-dataformat.html">Avro</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../dataformats/avro-jackson-dataformat.html">Avro Jackson</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../dataformats/bindy-dataformat.html">Bindy</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../dataformats/hl7-dataformat.html">HL7</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../dataformats/jacksonxml-dataformat.html">JacksonXML</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../dataformats/protobuf-jackson-dataformat.html">Protobuf Jackson</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../dataformats/soapjaxb-dataformat.html">SOAP</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../languages/index.html">Languages</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../languages/constant-language.html">Constant</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../languages/csimple-language.html">CSimple</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../languages/exchangeProperty-language.html">ExchangeProperty</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../languages/file-language.html">File</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../languages/header-language.html">Header</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../languages/jsonpath-language.html">JsonPath</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../languages/ref-language.html">Ref</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../languages/simple-language.html">Simple</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../languages/tokenize-language.html">Tokenize</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../languages/xtokenize-language.html">XML Tokenize</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="#others:index.adoc">Miscellaneous Components</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../others/microprofile-health.html">Microprofile Health</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="enterprise-integration-patterns.html">Enterprise Integration Patterns</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="aggregate-eip.html">Aggregate</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="batch-config-eip.html">Batch-config</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bean-eip.html">Bean</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="change-data-capture.html">Change Data Capture</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="channel-adapter.html">Channel Adapter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="choice-eip.html">Choice</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="circuitBreaker-eip.html">Circuit Breaker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="claimCheck-eip.html">Claim Check</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="competing-consumers.html">Competing Consumers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="composed-message-processor.html">Composed Message Processor</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="content-based-router-eip.html">Content Based Router</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="content-enricher.html">Content Enricher</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="content-filter-eip.html">Content Filter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="convertBodyTo-eip.html">Convert Body To</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="correlation-identifier.html">Correlation Identifier</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="customLoadBalancer-eip.html">Custom Load Balancer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dead-letter-channel.html">Dead Letter Channel</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="delay-eip.html">Delay</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="durable-subscriber.html">Durable Subscriber</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dynamicRouter-eip.html">Dynamic Router</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="enrich-eip.html">Enrich</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="eventDrivenConsumer-eip.html">Event Driven Consumer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="event-message.html">Event Message</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="failover-eip.html">Failover</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="faultToleranceConfiguration-eip.html">Fault Tolerance Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="fault-tolerance-eip.html">Fault Tolerance EIP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="filter-eip.html">Filter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="from-eip.html">From</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="guaranteed-delivery.html">Guaranteed Delivery</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="hystrixConfiguration-eip.html">Hystrix Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="hystrix-eip.html">Hystrix EIP (deprecated)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="idempotentConsumer-eip.html">Idempotent Consumer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="inOnly-eip.html">In Only</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="inOut-eip.html">In Out</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="intercept.html">Intercept</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="kamelet-eip.html">Kamelet</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="loadBalance-eip.html">Load Balance</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="log-eip.html">Log</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="loop-eip.html">Loop</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="marshal-eip.html">Marshal EIP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="message.html">Message</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="message-broker.html">Message Broker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="message-bus.html">Message Bus</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="message-channel.html">Message Channel</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="message-dispatcher.html">Message Dispatcher</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="message-endpoint.html">Message Endpoint</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="message-expiration.html">Message Expiration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="message-history.html">Message History</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="message-router.html">Message Router</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="message-translator.html">Message Translator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="messaging-bridge.html">Messaging Bridge</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="messaging-gateway.html">Messaging Gateway</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="messaging-mapper.html">Messaging Mapper</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="multicast-eip.html">Multicast</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="normalizer.html">Normalizer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="onFallback-eip.html">On Fallback</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="otherwise-eip.html">Otherwise</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pipeline-eip.html">Pipeline</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="point-to-point-channel.html">Point to Point Channel</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pollEnrich-eip.html">Poll Enrich</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="polling-consumer.html">Polling Consumer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="process-eip.html">Process</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="process-manager.html">Process Manager</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="publish-subscribe-channel.html">Publish Subscribe Channel</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="random-eip.html">Random</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="recipientList-eip.html">Recipient List</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="removeHeader-eip.html">Remove Header</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="removeHeaders-eip.html">Remove Headers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="removeProperties-eip.html">Remove Properties</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="removeProperty-eip.html">Remove Property</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="requestReply-eip.html">Request Reply</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="resequence-eip.html">Resequence</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="resilience4jConfiguration-eip.html">Resilience4j Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="resilience4j-eip.html">Resilience4j EIP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="return-address.html">Return Address</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="rollback-eip.html">Rollback</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="roundRobin-eip.html">Round Robin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="routingSlip-eip.html">Routing Slip</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="saga-eip.html">Saga</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="sample-eip.html">Sample</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="scatter-gather.html">Scatter Gather</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="script-eip.html">Script</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="selective-consumer.html">Selective Consumer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="service-activator.html">Service Activator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="serviceCall-eip.html">Service Call</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="setBody-eip.html">Set Body</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="setHeader-eip.html">Set Header</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="setOutHeader-eip.html">Set Out Header EIP (deprecated)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="setProperty-eip.html">Set Property</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="sort-eip.html">Sort</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="split-eip.html">Split</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="step-eip.html">Step</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="sticky-eip.html">Sticky</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="stop-eip.html">Stop</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="stream-config-eip.html">Stream-config</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="threads-eip.html">Threads</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="throttle-eip.html">Throttle</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="to-eip.html">To</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="toD-eip.html">To D</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="topic-eip.html">Topic</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="transactional-client.html">Transactional Client</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="transform-eip.html">Transform</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="unmarshal-eip.html">Unmarshal EIP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="validate-eip.html">Validate</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="weighted-eip.html">Weighted</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="when-eip.html">When</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="wireTap-eip.html">Wire Tap</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Camel Components</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Camel Components</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">latest</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../manual/latest/index.html">User manual</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../manual/latest/index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../manual/latest/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Camel Components</a></li>
    <li><a href="enterprise-integration-patterns.html">Enterprise Integration Patterns</a></li>
    <li><a href="content-enricher.html">Content Enricher</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///home/gforde/mygit/camel/core/camel-core-engine/src/main/docs/modules/eips/pages/content-enricher.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Content Enricher</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Camel supports the
<a href="http://www.enterpriseintegrationpatterns.com/DataEnricher.html">Content
Enricher</a> from the <a href="enterprise-integration-patterns.html" class="page">EIP
patterns</a> using a <a href="message-translator.html" class="page">Message Translator</a>, an
arbitrary <a href="../../../manual/latest/processor.html" class="page">Processor</a> in the routing logic, or using
the <a href="#">enrich</a> DSL element to enrich the
message.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/eip/DataEnricher.gif" alt="image">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ContentEnricher-ContentenrichmentusingaMessageTranslatororaProcessor"><a class="anchor" href="#ContentEnricher-ContentenrichmentusingaMessageTranslatororaProcessor"></a>Content enrichment using a Message Translator or a Processor</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Using the</strong> <strong><a href="../../../manual/latest/fluent-builders.html" class="page">Fluent Builders</a></strong></p>
</div>
<div class="paragraph">
<p>You can use <a href="../../../manual/latest/templating.html" class="page">Templating</a> to consume a message from
one destination, transform it with something like
<a href="#components::velocity-component.adoc" class="page unresolved">Velocity</a> or <a href="../xquery-component.html" class="page">XQuery</a>, and then send
it on to another destination. For example using InOnly (one way
messaging)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("activemq:My.Queue")
    .to("velocity:com/acme/MyResponse.vm")
    .to("activemq:Another.Queue");</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to use InOut (request-reply) semantics to process requests
on the <strong>My.Queue</strong> queue on <a href="#components::activemq-component.adoc" class="page unresolved">ActiveMQ</a> with a template
generated response, then sending responses back to the JMSReplyTo
Destination you could use this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("activemq:My.Queue")
    .to("velocity:com/acme/MyResponse.vm");</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here is a simple example using the <a href="../../../manual/latest/dsl.html" class="page">DSL</a> directly to
transform the message</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("direct:start")
    .setBody(body().append(" World!"))
    .to("mock:result");</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example we add our own <a href="../../../manual/latest/processor.html" class="page">Processor</a> using
explicit Java</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("direct:start")
    .process(new Processor() {
        public void process(Exchange exchange) {
            Message in = exchange.getIn();
            in.setBody(in.getBody(String.class) + " World!");
        }
    })
    .to("mock:result");</code></pre>
</div>
</div>
<div class="paragraph">
<p>we can use <a href="../../../manual/latest/bean-integration.html" class="page">Bean Integration</a> to use any Java
method on any bean to act as the transformer</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("activemq:My.Queue")
    .beanRef("myBeanName", "myMethodName")
    .to("activemq:Another.Queue");</code></pre>
</div>
</div>
<div class="paragraph">
<p>For further examples of this pattern in use you could look at one of the
JUnit tests</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/apache/camel/blob/main/core/camel-core/src/test/java/org/apache/camel/processor/TransformTest.java">TransformTest</a></p>
</li>
<li>
<p><a href="https://github.com/apache/camel/blob/main/core/camel-core/src/test/java/org/apache/camel/processor/TransformViaDSLTest.java">TransformViaDSLTest</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Using Spring XML</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;route&gt;
    &lt;from uri="activemq:Input"/&gt;
    &lt;bean ref="myBeanName" method="doTransform"/&gt;
    &lt;to uri="activemq:Output"/&gt;
&lt;/route&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ContentEnricher-ContentenrichmentusingtheenrichDSLelement"><a class="anchor" href="#ContentEnricher-ContentenrichmentusingtheenrichDSLelement"></a>Content enrichment using the <code>enrich</code> DSL element</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Camel comes with two flavors of content enricher in the DSL</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>enrich</code></p>
</li>
<li>
<p><code>pollEnrich</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>enrich</code> uses a <code>Producer</code> to obtain the additional data. It is usually
used for <a href="requestReply-eip.html" class="page">Request Reply</a> messaging, for instance
to invoke an external web service.<br>
<code>pollEnrich</code> on the other hand uses a <a href="polling-consumer.html" class="page">Polling
Consumer</a> to obtain the additional data. It is usually used for
<a href="event-message.html" class="page">Event Message</a> messaging, for instance to read a
file or download a <a href="../ftp-component.html" class="page">FTP</a> file.</p>
</div>
<div class="paragraph">
<p>Camel 2.15 or older - Data from current Exchange not used</p>
</div>
<div class="paragraph">
<p><code>pollEnrich</code> or <code>enrich</code> does <strong>not</strong> access any data from the current
<a href="../../../manual/latest/exchange.html" class="page">Exchange</a> which means when polling it cannot use any
of the existing headers you may have set on the
<a href="../../../manual/latest/exchange.html" class="page">Exchange</a>. For example you cannot set a filename in
the <code>Exchange.FILE_NAME</code> header and use <code>pollEnrich</code> to consume only
that file. For that you <strong>must</strong> set the filename in the endpoint URI.</p>
</div>
<div class="paragraph">
<p>Instead of using <code>enrich</code> you can use <a href="recipientList-eip.html" class="page">Recipient
List</a> and have dynamic endpoints and define an <code>AggregationStrategy</code> on
the <a href="recipientList-eip.html" class="page">Recipient List</a> which then would work as a
<code>enrich</code> would do.</p>
</div>
<div class="paragraph">
<p>pollEnrich only accept one message as response. That means that if you
target to enrich your original message with the enricher collecting
messages from a seda, &#8230;&#8203; components using an aggregation strategy. Only
one response message will be aggregated with the original message.</p>
</div>
<div class="paragraph">
<p>From <strong>Camel 2.16</strong> onwards both enrich and pollEnrich supports dynamic
endpoints that uses an <a href="../../../manual/latest/expression.html" class="page">Expression</a> to compute the
uri, which allows to use data from the current
<a href="../../../manual/latest/exchange.html" class="page">Exchange</a>. In other words all what is told above no
longer apply and it just works.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ContentEnricher-EnrichOptions"><a class="anchor" href="#ContentEnricher-EnrichOptions"></a>Enrich Options</h2>
<div class="sectionbody">
<div class="paragraph">
<p>confluenceTableSmall</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 34%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uri</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The endpoint uri for the external service to enrich from. You
must use either <code>uri</code> or <code>ref</code>. <strong>Important:</strong> From Camel 2.16 onwards,
this option is removed, and you use an <a href="../../../manual/latest/expression.html" class="page">Expression</a>
to configure the uri, such as <a href="../languages/simple-language.html" class="page">Simple</a> or
<a href="../languages/constant-language.html" class="page">Constant</a> or any other dynamic language that can
compute the uri dynamically using values from the current
<a href="../../../manual/latest/exchange.html" class="page">Exchange</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ref</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refers to the endpoint for the external service to enrich
from. You must use either <code>uri</code> or <code>ref</code>.  <strong>Important:</strong> From Camel
2.16 onwards, this option is removed, and you use an
<a href="../../../manual/latest/expression.html" class="page">Expression</a> to configure the uri, such as
<a href="../languages/simple-language.html" class="page">Simple</a> or <a href="../languages/constant-language.html" class="page">Constant</a> or any other
dynamic language that can compute the uri dynamically using values from
the current  <a href="../../../manual/latest/exchange.html" class="page">Exchange</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">expression</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Camel 2.16:</strong> Mandatory.
The <a href="../../../manual/latest/expression.html" class="page">Expression</a> to configure the uri, such as
<a href="../languages/simple-language.html" class="page">Simple</a> or <a href="../languages/constant-language.html" class="page">Constant</a> or any other
dynamic language that can compute the uri dynamically using values from
the current  <a href="../../../manual/latest/exchange.html" class="page">Exchange</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>strategyRef</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refers to an
<a href="https://github.com/apache/camel/blob/main/core/camel-api/src/main/java/org/apache/camel/AggregationStrategy.java">AggregationStrategy</a>
to be used to merge the reply from the external service, into a single
outgoing message. By default Camel will use the reply from the external
service as outgoing message. From <strong>Camel 2.12</strong> onwards you can also use
a POJO as the <code>AggregationStrategy</code>, see the
<a href="aggregate-eip.html" class="page">Aggregate</a> page for more details.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>strategyMethodName</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Camel 2.12:</strong> This option can be used to
explicit declare the method name to use, when using POJOs as the
<code>AggregationStrategy</code>. See the <a href="aggregate-eip.html" class="page">Aggregate</a> page for
more details.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>strategyMethodAllowNull</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Camel 2.12:</strong> If this option is
<code>false</code> then the aggregate method is not used if there was no data to
enrich. If this option is <code>true</code> then <code>null</code> values is used as the
<code>oldExchange</code> (when no data to enrich), when using POJOs as the
<code>AggregationStrategy</code>. See the <a href="aggregate-eip.html" class="page">Aggregate</a> page for
more details.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>aggregateOnException</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Camel 2.14:</strong> If this option is
<code>false</code> then the aggregate method is <strong>not</strong> used if there was an
exception thrown while trying to retrieve the data to enrich from the
resource. Setting this option to <code>true</code> allows end users to control what
to do if there was an exception in the <code>aggregate</code> method. For example
to suppress the exception or set a custom message body etc.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>shareUnitOfWork</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Camel 2.16:</strong>  Shares the unit of work with
the parent and the resource exchange. Enrich will by default not share
unit of work between the parent exchange and the resource exchange. This
means the resource exchange has its own individual unit of work. See
<a href="split-eip.html" class="page">Splitter</a> for more information and example.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cacheSize</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Camel 2.16:</strong> Allows to configure the cache size for
the <code>ProducerCache</code> which caches producers for reuse in the enrich. Will
by default use the default cache size which is 1000. Setting the value
to -1 allows to turn off the cache all together.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ignoreInvalidEndpoint</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Camel 2.16:</strong> Whether to ignore an
endpoint URI that could not be resolved. If disabled, Camel will throw
an exception identifying the invalid endpoint URI.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Using the</strong> <strong><a href="../../../manual/latest/fluent-builders.html" class="page">Fluent Builders</a></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">AggregationStrategy aggregationStrategy = ...

from("direct:start")
    .enrich("direct:resource", aggregationStrategy)
    .to("direct:result");

from("direct:resource") ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>The content enricher (<code>enrich</code>) retrieves additional data from a
<em>resource endpoint</em> in order to enrich an incoming message (contained in
the <em>original exchange</em>). An aggregation strategy is used to combine the
original exchange and the <em>resource exchange</em>. The first parameter of
the <code>AggregationStrategy.aggregate(Exchange, Exchange)</code> method
corresponds to the original exchange, the second parameter the
resource exchange. The results from the resource endpoint are stored in
the resource exchange&#8217;s out-message. Here&#8217;s an example template for
implementing an aggregation strategy:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class ExampleAggregationStrategy implements AggregationStrategy {

    public Exchange aggregate(Exchange original, Exchange resource) {
        Object originalBody = original.getIn().getBody();
        Object resourceResponse = resource.getIn().getBody();
        Object mergeResult = ... // combine original body and resource response

        if (original.getPattern().isOutCapable()) {
            original.getOut().setBody(mergeResult);
        } else {
            original.getIn().setBody(mergeResult);
        }

        return original;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using this template the original exchange can be of any pattern. The
resource exchange created by the enricher is always an in-out exchange.</p>
</div>
<div class="paragraph">
<p><strong>Using Spring XML</strong></p>
</div>
<div class="paragraph">
<p>The same example in the Spring DSL</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;camelContext id="camel" xmlns="http://camel.apache.org/schema/spring"&gt;
    &lt;route&gt;
        &lt;from uri="direct:start"/&gt;
        &lt;enrich strategyRef="aggregationStrategy"&gt;
            &lt;constant&gt;direct:resource&lt;/constant&gt;
        &lt;/enrich&gt;
        &lt;to uri="direct:result"/&gt;
    &lt;/route&gt;
    &lt;route&gt;
        &lt;from uri="direct:resource"/&gt;
        ...
    &lt;/route&gt;
&lt;/camelContext&gt;

&lt;bean id="aggregationStrategy" class="..." /&gt;</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="ContentEnricher-Aggregationstrategyisoptional"><a class="anchor" href="#ContentEnricher-Aggregationstrategyisoptional"></a>Aggregation strategy is optional</h3>
<div class="paragraph">
<p>The aggregation strategy is optional. If you do not provide it Camel
will by default just use the body obtained from the resource.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("direct:start")
    .enrich("direct:resource")
    .to("direct:result");</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the route above the message sent to the <code>direct:result</code> endpoint will
contain the output from the <code>direct:resource</code> as we do not use any
custom aggregation.</p>
</div>
<div class="paragraph">
<p>And for Spring DSL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;route&gt;
    &lt;from uri="direct:start"/&gt;
    &lt;enrich&gt;
        &lt;constant&gt;direct:resource&lt;/constant&gt;
    &lt;/enrich&gt;
    &lt;to uri="direct:result"/&gt;
&lt;/route&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ContentEnricher-Usingdynamicuris"><a class="anchor" href="#ContentEnricher-Usingdynamicuris"></a>Using dynamic uris</h3>
<div class="paragraph">
<p><strong>Since Camel 2.16</strong></p>
</div>
<div class="paragraph">
<p>From Camel 2.16 onwards enrich and pollEnrich supports using dynamic
uris computed based on information from the
current <a href="../../../manual/latest/exchange.html" class="page">Exchange</a>. For example to enrich from
a <a href="../http-component.html" class="page">HTTP</a> endpoint where the header with key orderId is
used as part of the content-path of the HTTP url:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("direct:start")
    .enrich().simple("http:myserver/$\{header.orderId}/order")
    .to("direct:result");</code></pre>
</div>
</div>
<div class="paragraph">
<p>And in XML DSL</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;route&gt;
    &lt;from uri="direct:start"/&gt;
    &lt;enrich&gt;
        &lt;simple&gt;http:myserver/$\{header.orderId}/order&lt;/simple&gt;
    &lt;/enrich&gt;
    &lt;to uri="direct:result"/&gt;
&lt;/route&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ContentEnricher-ContentenrichmentusingpollEnrich"><a class="anchor" href="#ContentEnricher-ContentenrichmentusingpollEnrich"></a>Content enrichment using <code>pollEnrich</code></h3>
<div class="paragraph">
<p>The <code>pollEnrich</code> works just as the <code>enrich</code> however as it uses a
<a href="polling-consumer.html" class="page">Polling Consumer</a> we have 3 methods when
polling</p>
</div>
<div class="ulist">
<ul>
<li>
<p>receive</p>
</li>
<li>
<p>receiveNoWait</p>
</li>
<li>
<p>receive(timeout)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ContentEnricher-PollEnrichOptions"><a class="anchor" href="#ContentEnricher-PollEnrichOptions"></a>PollEnrich Options</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 34%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uri</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The endpoint uri for the external service to enrich from. You
must use either <code>uri</code> or <code>ref</code>. <strong>Important:</strong> From Camel 2.16 onwards,
this option is removed, and you use an <a href="../../../manual/latest/expression.html" class="page">Expression</a>
to configure the uri, such as <a href="../languages/simple-language.html" class="page">Simple</a> or
<a href="../languages/constant-language.html" class="page">Constant</a> or any other dynamic language that can
compute the uri dynamically using values from the current
 <a href="../../../manual/latest/exchange.html" class="page">Exchange</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ref</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refers to the endpoint for the external service to enrich
from. You must use either <code>uri</code> or <code>ref</code>. <strong>Important:</strong> From Camel 2.16
onwards, this option is removed, and you use an
<a href="../../../manual/latest/expression.html" class="page">Expression</a> to configure the uri, such as
<a href="../languages/simple-language.html" class="page">Simple</a> or <a href="../languages/constant-language.html" class="page">Constant</a> or any other
dynamic language that can compute the uri dynamically using values from
the current  <a href="../../../manual/latest/exchange.html" class="page">Exchange</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>expression</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Camel 2.16:</strong> Mandatory.
The <a href="../../../manual/latest/expression.html" class="page">Expression</a> to configure the uri, such as
<a href="../languages/simple-language.html" class="page">Simple</a> or <a href="../languages/constant-language.html" class="page">Constant</a> or any other
dynamic language that can compute the uri dynamically using values from
the current <a href="../../../manual/latest/exchange.html" class="page">Exchange</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>strategyRef</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refers to an
<a href="https://github.com/apache/camel/blob/main/core/camel-api/src/main/java/org/apache/camel/AggregationStrategy.java">AggregationStrategy</a>
to be used to merge the reply from the external service, into a single
outgoing message. By default Camel will use the reply from the external
service as outgoing message. From <strong>Camel 2.12</strong> onwards you can also use
a POJO as the <code>AggregationStrategy</code>, see the
<a href="aggregate-eip.html" class="page">Aggregate</a> page for more details.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>strategyMethodName</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Camel 2.12:</strong> This option can be used to
explicit declare the method name to use, when using POJOs as the
<code>AggregationStrategy</code>. See the <a href="aggregate-eip.html" class="page">Aggregate</a> page for
more details.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>strategyMethodAllowNull</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Camel 2.12:</strong> If this option is
<code>false</code> then the aggregate method is not used if there was no data to
enrich. If this option is <code>true</code> then <code>null</code> values is used as the
<code>oldExchange</code> (when no data to enrich), when using POJOs as the
<code>AggregationStrategy</code>. See the <a href="aggregate-eip.html" class="page">Aggregate</a> page for
more details.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>timeout</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timeout in millis when polling from the external
service. See below for important details about the timeout.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>aggregateOnException</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Camel 2.14:</strong> If this option is
<code>false</code> then the aggregate method is <strong>not</strong> used if there was an
exception thrown while trying to retrieve the data to enrich from the
resource. Setting this option to <code>true</code> allows end users to control what
to do if there was an exception in the <code>aggregate</code> method. For example
to suppress the exception or set a custom message body etc.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cacheSize</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Camel 2.16:</strong> Allows to configure the cache size for
the <code>ConsumerCache</code> which caches consumers for reuse in the pollEnrich.
Will by default use the default cache size which is 1000. Setting the
value to -1 allows to turn off the cache all together.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ignoreInvalidEndpoint</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Camel 2.16:</strong> Whether to ignore an
endpoint URI that could not be resolved. If disabled, Camel will throw
an exception identifying the invalid endpoint URI.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Good practice to use timeout value</p>
</div>
<div class="paragraph">
<p>By default Camel will use the <code>receive</code>. Which may block until there is
a message available. It is therefore recommended to always provide a
timeout value, to make this clear that we may wait for a message, until
the timeout is hit.</p>
</div>
<div class="paragraph">
<p>If there is no data then the <code>newExchange</code> in the aggregation strategy
is <code>null</code>.</p>
</div>
<div class="paragraph">
<p>You can pass in a timeout value that determines which method to use</p>
</div>
<div class="ulist">
<ul>
<li>
<p>if timeout is -1 or other negative number then <code>receive</code> is selected
(<strong>Important:</strong> the <code>receive</code> method may block if there is no message)</p>
</li>
<li>
<p>if timeout is 0 then <code>receiveNoWait</code> is selected</p>
</li>
<li>
<p>otherwise <code>receive(timeout)</code> is selected</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The timeout values is in millis.</p>
</div>
<div class="paragraph">
<p>Camel 2.15 or older - Data from current Exchange not used</p>
</div>
<div class="paragraph">
<p><code>pollEnrich</code> does <strong>not</strong> access any data from the current
<a href="../../../manual/latest/exchange.html" class="page">Exchange</a> which means when polling it cannot use any
of the existing headers you may have set on the
<a href="../../../manual/latest/exchange.html" class="page">Exchange</a>. For example you cannot set a filename in
the <code>Exchange.FILE_NAME</code> header and use <code>pollEnrich</code> to consume only
that file. For that you <strong>must</strong> set the filename in the endpoint URI.</p>
</div>
<div class="paragraph">
<p>From <strong>Camel 2.16</strong> onwards both enrich and pollEnrich supports dynamic
endpoints that uses an <a href="../../../manual/latest/expression.html" class="page">Expression</a> to compute the
uri, which allows to use data from the current
<a href="../../../manual/latest/exchange.html" class="page">Exchange</a>. In other words all what is told above no
longer apply and it just works.</p>
</div>
<div class="sect3">
<h4 id="ContentEnricher-Example"><a class="anchor" href="#ContentEnricher-Example"></a>Example</h4>
<div class="paragraph">
<p>In this example we enrich the message by loading the content from the
file named inbox/data.txt.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("direct:start")
    .pollEnrich("file:inbox?fileName=data.txt")
    .to("direct:result");</code></pre>
</div>
</div>
<div class="paragraph">
<p>And in XML DSL you do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;route&gt;
    &lt;from uri="direct:start"/&gt;
    &lt;pollEnrich&gt;
        &lt;constant&gt;file:inbox?fileName=data.txt&lt;/constant&gt;
    &lt;/pollEnrich&gt;
    &lt;to uri="direct:result"/&gt;
&lt;/route&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If there is no file then the message is empty. We can use a timeout to
either wait (potentially forever) until a file exists, or use a timeout
to wait a certain period.</p>
</div>
<div class="paragraph">
<p>For example to wait up to 5 seconds you can do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;route&gt;
    &lt;from uri="direct:start"/&gt;
    &lt;pollEnrich timeout="5000"&gt;
        &lt;constant&gt;file:inbox?fileName=data.txt&lt;/constant&gt;
    &lt;/pollEnrich&gt;
    &lt;to uri="direct:result"/&gt;
&lt;/route&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ContentEnricher-Usingdynamicuris.1"><a class="anchor" href="#ContentEnricher-Usingdynamicuris.1"></a>Using dynamic uris</h4>
<div class="paragraph">
<p><strong>Since Camel 2.16</strong></p>
</div>
<div class="paragraph">
<p>From Camel 2.16 onwards enrich and pollEnrich supports using dynamic
uris computed based on information from the
current <a href="../../../manual/latest/exchange.html" class="page">Exchange</a>. For example to pollEnrich from an
endpoint that uses a header to indicate a <a href="../seda-component.html" class="page">SEDA</a> queue
name:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("direct:start")
    .pollEnrich()
    .simple("seda:$\{header.name}")
    .to("direct:result");</code></pre>
</div>
</div>
<div class="paragraph">
<p>And in XML DSL</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;route&gt;
    &lt;from uri="direct:start"/&gt;
    &lt;pollEnrich&gt;
        &lt;simple&gt;seda:$\{header.name}&lt;/simple&gt;
    &lt;/pollEnrich&gt;
    &lt;to uri="direct:result"/&gt;
&lt;/route&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
